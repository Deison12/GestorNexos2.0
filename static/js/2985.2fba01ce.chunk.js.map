{"version":3,"file":"static/js/2985.2fba01ce.chunk.js","mappings":"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","sources":["components/Nexos/pages/Accounting/ListBillings.tsx"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { TextField } from '@mui/material';\nimport { Link } from 'react-router-dom';\nimport { useFetch } from '../../hooks/useFetch';\n\nimport { TitleComponent, BreadCrumb, BasicDataTable, ConfirmationCardButton } from '../../Global'\nimport { Button, Card, Col, Row } from 'react-bootstrap';\nimport { DesktopDatePicker } from '@mui/x-date-pickers/DesktopDatePicker';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport dayjs, { Dayjs } from 'dayjs';\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\nimport { ItemBilling } from './ListBillings.interface';\n\n\nconst ListBillings = () => {\n  //geting data\n  const [data, setData] = useState<ItemBilling[]>([]);\n  const [meetingTypes, setMeetingTypes] = useState([]);\n\n  const [startDate, setStartDate] = useState<Dayjs | null>(dayjs());\n  const [endDate, setEndDate] = useState<Dayjs | null>(dayjs().add(1, \"month\"));\n\n  const [dateSelected, setDateSelected] = useState<boolean>(false); // Nuevo estado\n\n  // Función para manejar cambios en las fechas de inicio\n  const handleStartDate = (valueStartDate: Dayjs | null) => {\n    //const inputDate = e.target.value;\n    // Validar la fecha de inicio aquí\n    if (!dayjs(valueStartDate).isValid()) {\n      //setError('La fecha de inicio no es válida');\n    } else {\n      //setError('');\n      setStartDate(valueStartDate);\n    }\n  };\n\n  // Función para manejar cambios en las fechas de hasta\n  const handleEndDate = (valueEndDate: Dayjs | null) => {\n    if (!dayjs(valueEndDate).isValid()) {\n\n    } else if (dayjs(endDate).isBefore(startDate)) {\n      \n    } else {\n      setEndDate(valueEndDate);\n    }\n  };\n\n  const { getAllData, isLoading, error } = useFetch();\n\n  const getData = async () => {\n    try {\n      // 2022-08-06\n        const newStartDate = dayjs(startDate).format(\"YYYY-MM-DD\");\n        const newEndDate = dayjs(endDate).format(\"YYYY-MM-DD\");\n        const response: any = await getAllData(`api/sales/order/billing/list/${newStartDate}/${newEndDate}`);\n        setData(response);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  useEffect(() => {\n    if (dayjs(startDate).isValid() && dayjs(endDate).isValid() && dayjs(startDate).isBefore(endDate)) {\n      // && dayjs(endDate).isValid() && dayjs(endDate).isBefore(startDate)\n      getData();\n    }\n  }, [startDate, endDate]);\n\n  /* Columns for the Data Table */\nconst columns: any[] = [\n  {\n    Header: \"N°\",\n    accessor: \"\",\n    className: \"wd-5p borderrigth\",\n    Cell: ({ row }: { row: any }) => {\n      const { index } = row;\n      const consecutiveNumber = index + 1;\n      return <span>{consecutiveNumber}</span>;\n    },\n  },\n  {\n    Header: \"Conjunto\",\n    accessor: \"client_name\",\n    className: \"wd-25p borderrigth\",\n    Cell: ({ value }: { value: string }) => <span>{value}</span>,\n  },\n  {\n    Header: \"NIT\",\n    accessor: \"nit\",\n    className: \"wd-25p borderrigth\",\n    Cell: ({ value }: { value: string }) => <span>{value}</span>,\n  },\n  {\n    Header: \"Administrador\",\n    accessor: \"contact_name\",\n    className: \"wd-25p borderrigth\",\n    Cell: ({ value }: { value: string }) => <span>{value}</span>,\n  },\n  {\n    Header: \"Telefono\",\n    accessor: \"contact_phone\",\n    className: \"wd-25p borderrigth\",\n    Cell: ({ value }: { value: string }) => <span>{value}</span>,\n  },\n  {\n    Header: \"Tipo de asamblea\",\n    accessor: \"meeting_type\",\n    className: \"wd-25p borderrigth\",\n    Cell: ({ value }: { value: string }) => <span>{value}</span>,\n  },\n  {\n    Header: \"Hr. Registro\",\n    accessor: \"meeting_time_register\",\n    className: \"wd-25p borderrigth\",\n    Cell: ({ value }: { value: string }) => <span>{value}</span>,\n  },\n  {\n    Header: \"Hr. Inicio\",\n    accessor: \"meeting_time_init\",\n    className: \"wd-25p borderrigth\",\n    Cell: ({ value }: { value: string }) => <span>{value}</span>,\n  },\n  {\n    Header: \"Estado cotización\",\n    accessor: \"status\",\n    className: \"wd-25p borderrigth\",\n    Cell: ({ value }: { value: string }) => <span>{value}</span>,\n  },\n  {\n    Header: \"Estado reserva\",\n    accessor: \"booking_status\",\n    className: \"wd-25p borderrigth\",\n    Cell: ({ value }: { value: string }) => <span className='text-capitalize'>{value}</span>,\n  },\n  {\n    Header: \"Estado nota contable\",\n    accessor: \"accountable_status\",\n    className: \"wd-25p borderrigth\",\n    Cell: ({ value }: { value: string }) => <span className='text-capitalize'>{value}</span>,\n  },\n  {\n    Header: \"VERIFICA\",\n    accessor: \"\",\n    className: \"wd-15p borderrigth\",\n    // Custom cell rendering for the \"Accion\" column with a link to edit the profile\n    Cell: ({ row }: { row: any }) => {\n      return (\n        <Link\n          to={`${process.env.PUBLIC_URL}/nexos/verificaciones`}\n          state={row.original}\n        >\n          <button className='btn btn-primary w-100 d-flex justify-content-center'>\n            <span className=\"material-icons md-5 md-dark\">&#xe2e6;</span>\n          </button>\n        </Link>\n      )\n    },\n  }\n]\n\n  return (\n    <div>\n      {/* Breadcrumb */}\n      <BreadCrumb\n        items={['inicio', 'configuraciones', 'facturacion']}\n        baseURL={['inicio', 'nexos/configuraciones', 'nexos/facturaciones']}\n      />\n\n      <Row className='d-flex align-items-end gap-2 gap-md-0'>\n      <Col className='d-flex justify-content-sm-center justify-content-md-start flex-item order-2 order-md-1' xs={12} sm={12} md={4} lg={4} xl={4}>\n      <LocalizationProvider style={{ height: 10 }} dateAdapter={AdapterDayjs}  >\n          <DesktopDatePicker\n            disablePast\n            className=\"ms-3 text-primary w-100\"\n            label=\"Fecha Desde\"\n            inputFormat=\"DD/MM/YYYY\"\n            value={startDate || dayjs()}\n            onChange={(newValue) => handleStartDate(newValue)} // Modifica esta línea\n            renderInput={(params) => <TextField {...params} />}\n          />\n        </LocalizationProvider>\n        <LocalizationProvider style={{ height: 10 }} dateAdapter={AdapterDayjs}  >\n          <DesktopDatePicker\n            disablePast\n            className=\"ms-3 text-primary w-100\"\n            label=\"Fecha Hasta\"\n            inputFormat=\"DD/MM/YYYY\"\n            value={endDate || dayjs()}\n            onChange={(newValue) => handleEndDate(newValue)} // Modifica esta línea\n            renderInput={(params) => <TextField {...params} />}\n          />\n        </LocalizationProvider>\n      </Col>\n\n        <Col className='flex-item order-1 order-md-2' xs={12} sm={12} md={4} lg={4} xl={4}>\n        {/* Component Title */}\n      <TitleComponent\n        title={'FACTURACIÓN'}\n        align='center'\n      />\n        </Col>\n      </Row>\n\n{\n        (error) && (\n          <ConfirmationCardButton\n          baseURL='#'\n          title='Error'\n          subtitle={`${error?.message}`}\n        />\n        )\n      }\n\n\n      {/* Data Grid Table */}\n      {\n        (!error) && (\n          <BasicDataTable\n          columns={columns}\n          data={data}\n          isLoading={isLoading}\n          exceptionTitleText='Por favor, selecciona un rango de fechas para mostrar los datos'\n          exceptionSubtitleText=''\n        />\n        )\n      }\n\n    </div>\n  )\n}\n\nexport default ListBillings;\n/* 06/08/2022 */\n"],"names":["useState","data","setData","dayjs","startDate","setStartDate","add","endDate","setEndDate","useFetch","getAllData","isLoading","error","getData","newStartDate","format","newEndDate","response","console","log","useEffect","isValid","isBefore","columns","Header","accessor","className","Cell","consecutiveNumber","row","index","value","to","process","state","original","items","baseURL","xs","sm","md","lg","xl","style","height","dateAdapter","AdapterDayjs","disablePast","label","inputFormat","onChange","newValue","valueStartDate","renderInput","params","valueEndDate","title","align","subtitle","message","exceptionTitleText","exceptionSubtitleText"],"sourceRoot":""}