"use strict";(self.webpackChunknowa=self.webpackChunknowa||[]).push([[9587],{67604:function(e,a,r){r.r(a);var s=r(1413),t=r(74165),n=r(15861),i=r(29439),o=r(72791),c=r(43504),d=r(42713),l=r(45644),u=r(97892),m=r.n(u),p=r(36571),h=r(87607),f=r(44393),x=r(7792),v=r(80184),g=[{Header:"#",accessor:"",className:"wd-10p borderrigth",Cell:function(e){var a=e.row.index+1;return(0,v.jsx)("span",{children:a})}},{Header:"Cliente",accessor:"residential_name",className:"wd-25p borderrigth"},{Header:"Fecha de agendamiento",accessor:"demo_date",className:"wd-25p borderrigth",Cell:function(e){var a=e.value;return(0,v.jsx)("p",{children:m()(a).format("DD/MM/YYYY")})}},{Header:"Tipo de agendamiento",accessor:"schedule_type",className:"wd-25p borderrigth"},{Header:"Agendado por",accessor:"user_name",className:"wd-20p borderrigth"},{Header:"Acci\xf3n",accessor:"",className:"wd-15p borderrigth",Cell:function(e){var a=e.row;return(0,v.jsx)(c.rU,{to:"".concat("","/nexos/visitasdemosreunionesform"),state:a.original,children:(0,v.jsx)("span",{className:"material-icons md-5 md-dark",children:"\ue3c9"})})}}];a.default=function(){var e=(0,o.useState)([]),a=(0,i.Z)(e,2),r=a[0],c=a[1],u=(0,l.i)(),Y=u.getAllData,b=u.isLoading,j=u.error,w=(0,o.useState)(m()()),D=(0,i.Z)(w,2),M=D[0],N=D[1],S=(0,o.useState)(m()().add(1,"month")),Z=(0,i.Z)(S,2),k=Z[0],y=Z[1],C=(0,o.useState)(!1),H=(0,i.Z)(C,2),I=(H[0],H[1],function(){var e=(0,n.Z)((0,t.Z)().mark((function e(){var a,r,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=m()(M).format("YYYY-MM-DD"),r=m()(k).format("YYYY-MM-DD"),e.next=5,Y("api/residential/demoScheduling/list/".concat(a,"/").concat(r));case 5:s=e.sent,console.log({response:s}),c(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}());return(0,o.useEffect)((function(){m()(M).isValid()&&m()(k).isValid()&&(m()(M).isBefore(k)||m()(M).isSame(k,"date"))&&I()}),[M,k]),(0,v.jsxs)("div",{children:[(0,v.jsx)(d.cI,{items:["inicio","lista visitas, demos, reuniones"],baseURL:["inicio","nexos/visitasdemosreuniones"]}),(0,v.jsx)(d.r3,{title:"VISITAS, DEMOS, REUNIONES"}),j&&(0,v.jsx)(d.bI,{baseURL:"#",title:"Error",subtitle:"".concat(null===j||void 0===j?void 0:j.message)}),(0,v.jsxs)("div",{children:[(0,v.jsx)(p._,{style:{height:10},dateAdapter:x.y,children:(0,v.jsx)(h.$,{className:"ms-3 text-primary",label:"Fecha Desde",inputFormat:"DD/MM/YYYY",value:M||m()(),onChange:function(e){return a=e,void(m()(a).isValid()&&N(a));var a},renderInput:function(e){return(0,v.jsx)(f.Z,(0,s.Z)({},e))}})}),(0,v.jsx)(p._,{style:{height:10},dateAdapter:x.y,children:(0,v.jsx)(h.$,{className:"ms-3 text-primary",label:"Fecha Hasta",inputFormat:"DD/MM/YYYY",value:k||m()(),onChange:function(e){return a=e,void(m()(a).isValid()&&(m()(k).isBefore(M),y(a)));var a},renderInput:function(e){return(0,v.jsx)(f.Z,(0,s.Z)({},e))}})})]}),(0,v.jsx)(d.L4,{columns:g,data:r,addButtonLink:"".concat("","/nexos/visitasdemosreunionesform"),isLoading:b,exceptionTitleText:"Por favor, selecciona un rango de fechas para mostrar los datos",exceptionSubtitleText:""})]})}}}]);
//# sourceMappingURL=9587.0faa3ea7.chunk.js.map