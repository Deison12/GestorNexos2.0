{"version":3,"file":"static/js/6933.8fa4e099.chunk.js","mappings":"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","sources":["components/Nexos/pages/ContractedAssamblies/ContractedAssamblies.tsx","../node_modules/react-bootstrap/esm/Badge.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { TextField } from '@mui/material';\nimport { Link } from 'react-router-dom';\nimport { useFetch } from '../../hooks/useFetch';\n\nimport { TitleComponent, BreadCrumb, BasicDataTable, ConfirmationCardButton } from '../../Global'\nimport { Badge, Button, Card, Col, Row } from 'react-bootstrap';\nimport { DesktopDatePicker } from '@mui/x-date-pickers/DesktopDatePicker';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport dayjs, { Dayjs } from 'dayjs';\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\nimport { ContractedAssambliesUI } from './ContractedAssamblies.interface';\nimport './style.scss'\n\nconst ContractedAssamblies = () => {\n  //geting data\n  const [data, setData] = useState<ContractedAssambliesUI[]>([]);\n  const [meetingTypes, setMeetingTypes] = useState([]);\n\n  const [startDate, setStartDate] = useState<Dayjs | null>(dayjs());\n  const [endDate, setEndDate] = useState<Dayjs | null>(dayjs().add(1, \"month\"));\n\n  const [dateSelected, setDateSelected] = useState<boolean>(false); // Nuevo estado\n\n  // Función para manejar cambios en las fechas de inicio\n  const handleStartDate = (valueStartDate: Dayjs | null) => {\n    //const inputDate = e.target.value;\n    // Validar la fecha de inicio aquí\n    if (!dayjs(valueStartDate).isValid()) {\n      //setError('La fecha de inicio no es válida');\n    } else {\n      //setError('');\n      setStartDate(valueStartDate);\n    }\n  };\n\n  // Función para manejar cambios en las fechas de hasta\n  const handleEndDate = (valueEndDate: Dayjs | null) => {\n    if (!dayjs(valueEndDate).isValid()) {\n\n    } else if (dayjs(endDate).isBefore(startDate)) {\n      setEndDate(valueEndDate);\n    } else {\n      setEndDate(valueEndDate);\n    }\n  };\n\n  const { getAllData, isLoading, error } = useFetch();\n\n\n  const getData = async () => {\n    try {\n      // 2022-08-06\n      const newStartDate = dayjs(startDate).format(\"YYYY-MM-DD\");\n      const newEndDate = dayjs(endDate).format(\"YYYY-MM-DD\");\n      const response: any = await getAllData(`api/quotes/list/date/${newStartDate}/${newEndDate}`);\n      console.log({ response });\n      setData(response?.content);\n      setMeetingTypes(response?.meeting_types)\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  useEffect(() => {\n    if (dayjs(startDate).isValid() && dayjs(endDate).isValid() && (dayjs(startDate).isBefore(endDate) || dayjs(startDate).isSame(endDate, \"date\"))) {\n      // && dayjs(endDate).isValid() && dayjs(endDate).isBefore(startDate)\n      getData();\n    }\n  }, [startDate, endDate]);\n\n  /* Columns for the Data Table */\n  const columns: any[] = [\n    {\n      Header: \"N°\",\n      accessor: \"\",\n      className: \"wd-5p borderrigth\",\n      Cell: ({ row }: { row: any }) => {\n        const { index } = row;\n        const consecutiveNumber = index + 1;\n        return <span>{consecutiveNumber}</span>;\n      },\n    },\n    {\n      Header: \"Conjunto\",\n      accessor: \"residential_name\",\n      className: \"wd-25p borderrigth\",\n      Cell: ({ value }: { value: string }) => <span>{value}</span>,\n    },\n    {\n      Header: \"NIT\",\n      accessor: \"nit\",\n      className: \"wd-25p borderrigth\",\n      Cell: ({ value }: { value: string }) => <span>{value}</span>,\n    },\n    {\n      Header: \"Administrador\",\n      accessor: \"contact_name\",\n      className: \"wd-25p borderrigth\",\n      Cell: ({ value }: { value: string }) => <span>{value}</span>,\n    },\n    {\n      Header: \"Telefono\",\n      accessor: \"contact_phone\",\n      className: \"wd-25p borderrigth\",\n      Cell: ({ value }: { value: string }) => <span>{value}</span>,\n    },\n    {\n      Header: \"Tipo de asamblea\",\n      accessor: \"meeting_type\",\n      className: \"wd-25p borderrigth\",\n      Cell: ({ value }: { value: string }) => <span>{value}</span>,\n    },\n    {\n      Header: \"Hr. Registro\",\n      accessor: \"meeting_init_time\",\n      className: \"wd-25p borderrigth\",\n      Cell: ({ value }: { value: string }) => <span>{value}</span>,\n    },\n    {\n      Header: \"Hr. Inicio\",\n      accessor: \"meeting_register_time\",\n      className: \"wd-25p borderrigth\",\n      Cell: ({ value }: { value: string }) => <span>{value}</span>,\n    },\n    {\n      Header: \"Estado cotización\",\n      accessor: \"status\",\n      className: \"wd-25p borderrigth\",\n      Cell: ({ value }: { value: string }) => (\n        <Badge\n          className={value === \"Contratada\" || value === 'contratada' ? \"custom-badge-success\" :\n            value == \"Pendiente\" || value == 'pendiente' ? \"custom-badge-warning\" : \"custom-badge-danger\"}\n        >\n          {value}\n        </Badge>\n      ),\n    },\n    {\n      Header: \"Estado reserva\",\n      accessor: \"booking_status\",\n      className: \"wd-25p borderrigth\",\n      Cell: ({ value }: { value: string }) => (\n        <Badge\n          className={value === \"Verificado\" || value === 'verificado' ? \"custom-badge-success\" :\n            value == \"Rechazado\" || value == 'rechazado' ? \"custom-badge-danger\" : \"custom-badge-warning\"}\n        >\n          {value}\n        </Badge>\n      ),\n    },\n    {\n      Header: \"Verificar\",\n      accessor: \"\",\n      className: \"wd-15p borderrigth\",\n      Cell: ({ row }: { row: any }) => {\n        return (\n          <Link\n            to={`${process.env.PUBLIC_URL}/nexos/verificaciones`}\n            state={row.original}\n          >\n            <button className='btn btn-primary w-100 d-flex justify-content-center'>\n              <span className=\"material-icons md-5 md-dark\">&#xe2e6;</span>\n            </button>\n          </Link>\n        )\n      },\n    }\n  ]\n\n  return (\n    <div>\n      {/* Breadcrumb */}\n      <BreadCrumb\n        items={['inicio', 'Configuraciones', 'lista asambleas contratadas']}\n        baseURL={['inicio', 'nexos/configuraciones', 'nexos/asambleascontratadas']}\n      />\n\n      <Row className='d-flex align-items-end gap-2 gap-md-0'>\n        <Col className='d-flex justify-content-sm-center justify-content-md-start flex-item order-2 order-md-1' xs={12} sm={12} md={4} lg={4} xl={4}>\n          <LocalizationProvider style={{ height: 10 }} dateAdapter={AdapterDayjs}  >\n            <DesktopDatePicker\n              disablePast\n              className=\"ms-3 text-primary w-100\"\n              label=\"Fecha Desde\"\n              inputFormat=\"DD/MM/YYYY\"\n              value={startDate || dayjs()}\n              onChange={(newValue) => handleStartDate(newValue)} // Modifica esta línea\n              renderInput={(params) => <TextField {...params} />}\n            />\n          </LocalizationProvider>\n          <LocalizationProvider style={{ height: 10 }} dateAdapter={AdapterDayjs}  >\n            <DesktopDatePicker\n              disablePast\n              className=\"ms-3 text-primary w-100\"\n              label=\"Fecha Hasta\"\n              inputFormat=\"DD/MM/YYYY\"\n              value={endDate || dayjs().add(1, \"month\")}\n              onChange={(newValue) => handleEndDate(newValue)} // Modifica esta línea\n              renderInput={(params) => <TextField {...params} />}\n            />\n          </LocalizationProvider>\n        </Col>\n\n        <Col className='flex-item order-1 order-md-2' xs={12} sm={12} md={4} lg={4} xl={4}>\n          {/* Component Title */}\n          <TitleComponent\n            title={'LISTA DE ASAMBLEAS CONTRATADAS'}\n            align='center'\n          />\n        </Col>\n        <Col className='flex-item order-1 order-md-3' xs={12} sm={12} md={4} lg={4} xl={4}>\n\n          {\n            (meetingTypes?.length !== 0 && data?.length !== 0) && (\n              <Card style={{ width: '100%', border: \"1px solid #888\" }}>\n                <Card.Body>\n                  {\n                    (meetingTypes?.length !== 0) && (\n                      meetingTypes?.map((item: any, index) => (\n                        <Card.Text key={`${index}-${item?.name}`} className='h5 font-weight-bold'><span className='text-primary'>{item?.total}</span> {item?.name}</Card.Text>\n                      ))\n                    )\n                  }\n                </Card.Body>\n              </Card>\n            )\n          }\n\n        </Col>\n      </Row>\n\n      {\n        (error) && (\n          <ConfirmationCardButton\n            baseURL='#'\n            title='Error'\n            subtitle={`${error?.message}`}\n          />\n        )\n      }\n\n\n      {/* Data Grid Table */}\n      {\n        (!error) && (\n          <BasicDataTable\n            columns={columns}\n            data={data}\n            addButtonLink={`${process.env.PUBLIC_URL}/nexos/asambleascontratadas`}\n            isLoading={isLoading}\n            btnText='NUEVA RESERVA'\n            exceptionTitleText='Por favor, selecciona un rango de fechas para mostrar los datos'\n            exceptionSubtitleText=''\n          />\n        )\n      }\n\n    </div>\n  )\n}\n\nexport default ContractedAssamblies;\n/* 06/08/2022 */\n","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst defaultProps = {\n  bg: 'primary',\n  pill: false\n};\nconst Badge = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  bg,\n  pill,\n  text,\n  className,\n  as: Component = 'span',\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'badge');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(className, prefix, pill && `rounded-pill`, text && `text-${text}`, bg && `bg-${bg}`)\n  });\n});\nBadge.displayName = 'Badge';\nBadge.defaultProps = defaultProps;\nexport default Badge;"],"names":["useState","data","setData","meetingTypes","setMeetingTypes","dayjs","startDate","setStartDate","add","endDate","setEndDate","useFetch","getAllData","isLoading","error","getData","newStartDate","format","newEndDate","response","console","log","content","meeting_types","useEffect","isValid","isBefore","isSame","columns","Header","accessor","className","Cell","consecutiveNumber","row","index","value","Badge","to","process","state","original","items","baseURL","Row","Col","xs","sm","md","lg","xl","LocalizationProvider","style","height","dateAdapter","AdapterDayjs","DesktopDatePicker","disablePast","label","inputFormat","onChange","newValue","valueStartDate","renderInput","params","TextField","valueEndDate","title","align","length","Card","width","border","map","item","total","name","subtitle","message","addButtonLink","btnText","exceptionTitleText","exceptionSubtitleText","React","ref","bsPrefix","bg","pill","text","as","Component","props","prefix","useBootstrapPrefix","_jsx","classNames","displayName","defaultProps"],"sourceRoot":""}