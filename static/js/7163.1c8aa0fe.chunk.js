"use strict";(self.webpackChunknowa=self.webpackChunknowa||[]).push([[7163],{30989:function(e,t,r){r.r(t);var n=r(74165),i=r(15861),a=r(93433),o=r(1413),s=r(29439),c=r(72791),l=r(42713),u=r(16871),d=r(45644),m=r(43360),v=r(24490),f=r(92574),p=r(80184);t.default=function(){var e=localStorage.getItem("form1-ID"),t=(0,c.useState)({quoteId:e,items:[]}),r=(0,s.Z)(t,2),g=r[0],h=r[1],x=(0,u.TH)(),N=(0,u.s0)(),I=(0,v.fg)().handlerRedirect,w=(0,d.i)().postData,b=localStorage.getItem("create_quote_id"),C=localStorage.getItem("form_client_id"),S=[{Header:"N\xb0",accessor:"",className:"wd-5p borderrigth",Cell:function(e){var t=e.row.index+1;return(0,p.jsx)("span",{children:t})}},{Header:"Nombre",accessor:"name",className:"wd-25p borderrigth",Cell:function(e){var t=e.value;return(0,p.jsx)("span",{children:t.toUpperCase()})}},{Header:"Cantidad",accessor:"value",className:"wd-20p borderrigth"},{Header:"Precio",accessor:"price",className:"wd-20p borderrigth",Cell:function(e){var t=e.value;return(0,p.jsx)("span",{children:"$ ".concat((0,f.u)(t,2))})}},{Header:"Quitar",accessor:"",className:"wd-15p borderrigth",Cell:function(e){var t=e.row;return(0,p.jsxs)("div",{className:"d-flex align-items-center gap-1",onClick:function(){var e;return function(e){var t=null===g||void 0===g?void 0:g.items.filter((function(t){return t.item_id!==e}));h((function(e){return(0,o.Z)((0,o.Z)({},e),{},{items:(0,a.Z)(t)})}))}(null===t||void 0===t||null===(e=t.original)||void 0===e?void 0:e.item_id)},children:[(0,p.jsx)("span",{className:"material-icons md-5 md-dark cursor-pointer",children:"\ue872"}),"Quitar"]})}}];(0,c.useEffect)((function(){x.state.items&&0!==x.state.items.length||N("".concat("/GestorNew","/nexos/seleccionarserviciosacotizar")),I(e);var t=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=null===x||void 0===x||null===(t=x.state)||void 0===t?void 0:t.items,h((function(e){return(0,o.Z)((0,o.Z)({},e),{},{items:(0,a.Z)(r)})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}),[x,e]);var Z=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("form_quote_id"),r=null===g||void 0===g?void 0:g.items.map((function(e){return{item_id:Number(e.item_id),value:Number(e.value),discount:0,is_discount_percentage:0}})),i={quote_id:b||t,client_id:C,items:r},e.prev=3,e.next=6,w(i,"quotes/items/save");case 6:N("".concat("/GestorNew","/nexos/cotizacionpdf")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)("div",{children:[(0,p.jsx)(l.cI,{items:["INICIO","VENTAS","LISTA COTIZACIONES","vista previa"],baseURL:["inicio","nexos/ventasconfirmaciones","COTIZACIONES","nexos/listarusuarios"]}),(0,p.jsx)(l.r3,{title:"PASO 4",subtitle:"ITEMS SELECCIONADOS",align:"center"}),(0,p.jsx)(l.L4,{columns:S,data:null===g||void 0===g?void 0:g.items,addButtonLink:"".concat("/GestorNew","/nexos/seleccionarserviciosacotizar"),btnText:"MODIFICAR ITEMS",addButtonState:g}),(0,p.jsx)("div",{className:"w-100 d-flex justify-content-end mb-5",children:(0,p.jsx)(m.Z,{onClick:Z,style:{},className:"btn btn-primary d-none d-md-block",children:"GUARDAR ITEMS"})})]})}},92574:function(e,t,r){r.d(t,{u:function(){return n}});var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r="string"===typeof e?parseFloat(e):Number(e);if(isNaN(r))throw new Error("El valor proporcionado no es un n\xfamero v\xe1lido.");var n=Number.isInteger(r)?r.toLocaleString():r.toFixed(t).replace(/\B(?=(\d{3})+(?!\d))/g,",");return n}}}]);
//# sourceMappingURL=7163.1c8aa0fe.chunk.js.map