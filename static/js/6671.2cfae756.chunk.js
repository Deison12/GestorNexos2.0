"use strict";(self.webpackChunknowa=self.webpackChunknowa||[]).push([[6671],{52266:function(e,s,n){n.r(s);var t=n(45987),a=n(74165),r=n(15861),l=n(4942),c=n(1413),o=n(29439),i=n(20160),d=n(79627),u=n(89743),m=n(2677),x=n(323),h=n(43360),p=n(72791),v=n(16871),j=n(45644),Z=n(24490),f=n(42713),N=n(80184),g=["id"],b={id:0,name:"",is_percentage:1,amount:"",description:"",status_id:1};s.default=function(){var e,s,n,E,C,y,k,w=(0,p.useState)(b),L=(0,o.Z)(w,2),D=L[0],A=L[1],_=(0,j.i)(),O=_.postData,S=_.putData,I=(0,v.TH)(),R=I.state,F=(0,Z.VY)(),T=F.handleEditConfirmation,q=F.handleSuccessAlert,U=F.handleErrorAlert,P=(0,p.useState)(!1),V=(0,o.Z)(P,2),B=V[0],J=V[1],z=(0,Z.pN)(),G=z.errors,H=(z.setError,z.clearError,function(e){var s=e.target,n=s.name,t=s.value,a="radio"===s.type?parseInt(t):t;"name"===n&&(a=t.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")),A((function(e){return(0,c.Z)((0,c.Z)({},e),{},(0,l.Z)({},n,a))}))}),M=function(){J(!0)},Y=function(){var e;null!=(null===I||void 0===I||null===(e=I.state)||void 0===e?void 0:e.id)?Q():K()},K=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(D,"discount/create",!1,"listardescuentos");case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error en createdescuento:",e.t0),U("Error al crear el descuento.");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var s,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T("\xbfEst\xe1s seguro que deseas editar este descuento?");case 3:if(!e.sent.isConfirmed){e.next=11;break}return D.id,s=(0,t.Z)(D,g),n=(0,c.Z)((0,c.Z)({},s),{},{id:D.id}),e.next=9,S(n,"discount/edit/".concat(D.id));case 9:e.sent.success?q("El descuento se edit\xf3 exitosamente.","listardescuentos"):U("Error al editar el descuento.");case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error en editForm:",e.t0),U("Error al editar el descuento.");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return(0,p.useEffect)((function(){R&&A(R)}),[R]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(f.cI,{items:["INICIO","lista descuentos",null!==I&&void 0!==I&&null!==(e=I.state)&&void 0!==e&&e.id?"Editar Descuento":"Agregar Descuento"],baseURL:["inicio","nexos/listardescuentos",null!==I&&void 0!==I&&null!==(s=I.state)&&void 0!==s&&s.id?"editardescuento/"+(null===I||void 0===I||null===(n=I.state)||void 0===n?void 0:n.id):"creardescuento"]}),(0,N.jsx)(f.r3,{title:null!==I&&void 0!==I&&null!==(E=I.state)&&void 0!==E&&E.id?"Editar Descuento":"Agregar Descuento"}),(0,N.jsx)(i.Z,{className:"form-horizontal",onSubmit:function(e){e.preventDefault(),Y()},children:(0,N.jsx)(d.Z,{className:"w-100",children:(0,N.jsx)(d.Z.Body,{className:"w-100",children:(0,N.jsxs)(u.Z,{children:[(0,N.jsxs)(m.Z,{sm:12,md:12,lg:6,xl:6,children:[(0,N.jsx)(u.Z,{className:"justify-content-center",children:(0,N.jsx)(m.Z,{sm:12,md:12,lg:12,xl:12,children:(0,N.jsxs)(x.Z,{className:"form-group w-100 m-0",children:[(0,N.jsx)(i.Z.Label,{className:"mb-3",children:"NOMBRE DEL DESCUENTO"}),(0,N.jsx)(i.Z.Control,{type:"text",className:"form-control",placeholder:"",name:"name",required:!0,value:null!==(C=null===D||void 0===D?void 0:D.name)&&void 0!==C?C:"",onChange:H,onFocus:M})]})})}),(0,N.jsx)(u.Z,{className:"d-flex mt-4",children:(0,N.jsx)(m.Z,{sm:12,md:12,lg:12,xl:12,className:"",children:(0,N.jsxs)(x.Z,{children:[(0,N.jsx)(i.Z.Label,{children:"DESCRIPCION"}),(0,N.jsx)(f.fm,{message:G.description,inputFocus:B,children:(0,N.jsx)(i.Z.Control,{style:{height:"5.5cm",width:"100% !important"},as:"textarea",name:"description",value:null!==(y=null===D||void 0===D?void 0:D.description)&&void 0!==y?y:"",onChange:H,placeholder:"Detalles del servicio...",onFocus:M,required:!0})})]})})})]}),(0,N.jsxs)(m.Z,{sm:12,md:12,lg:6,xl:6,children:[(0,N.jsx)(u.Z,{className:"mb-3 mt-1",children:(0,N.jsx)(m.Z,{xs:12,sm:12,md:12,lg:12,xl:12,children:(0,N.jsxs)(x.Z,{className:"form-group text-center",children:[(0,N.jsx)(i.Z.Label,{className:"form-label mb-2",children:"VALOR EN PORCENTAJE"}),(0,N.jsxs)("div",{className:"custom-controls-stacked d-flex justify-content-center gap-5",children:[(0,N.jsxs)(i.Z.Label,{className:"custom-control custom-radio",children:[(0,N.jsx)(i.Z.Control,{type:"radio",className:"custom-control-input",name:"is_percentage",value:1,checked:1===(null===D||void 0===D?void 0:D.is_percentage),onChange:H}),(0,N.jsx)("span",{className:"custom-control-label",children:"Si"})]}),(0,N.jsxs)(i.Z.Label,{className:"custom-control custom-radio",children:[(0,N.jsx)(i.Z.Control,{type:"radio",className:"custom-control-input",name:"is_percentage",value:0,checked:0===(null===D||void 0===D?void 0:D.is_percentage),onChange:H}),(0,N.jsx)("span",{className:"custom-control-label",children:"No"})]})]})]})})}),(0,N.jsx)(u.Z,{className:"justify-content-center  ",children:(0,N.jsx)(m.Z,{sm:12,md:12,lg:12,xl:12,children:(0,N.jsxs)(x.Z,{className:"form-group w-100 m-0",children:[(0,N.jsxs)(i.Z.Label,{className:"mb-2",children:[1===D.is_percentage?"PORCENTAJE":"VALOR"," DEL DESCUENTO"]}),(0,N.jsx)(i.Z.Control,{type:"number",className:"form-control",placeholder:"",name:"amount",required:!0,value:null!==(k=null===D||void 0===D?void 0:D.amount)&&void 0!==k?k:"",onChange:H,onFocus:M})]})})}),(0,N.jsx)(u.Z,{className:"mt-3",children:(0,N.jsx)(m.Z,{xs:12,sm:12,md:12,lg:12,xl:12,children:(0,N.jsxs)(x.Z,{className:"form-group text-center",children:[(0,N.jsx)(i.Z.Label,{className:"form-label",children:"ESTADO"}),(0,N.jsxs)("div",{className:"custom-controls-stacked d-flex justify-content-center gap-5",children:[(0,N.jsxs)(i.Z.Label,{className:"custom-control custom-radio",children:[(0,N.jsx)(i.Z.Control,{type:"radio",className:"custom-control-input",name:"status_id",value:1,checked:1===(null===D||void 0===D?void 0:D.status_id),onChange:H}),(0,N.jsx)("span",{className:"custom-control-label",children:"Activo"})]}),(0,N.jsxs)(i.Z.Label,{className:"custom-control custom-radio",children:[(0,N.jsx)(i.Z.Control,{type:"radio",className:"custom-control-input",name:"status_id",value:0,checked:0===(null===D||void 0===D?void 0:D.status_id),onChange:H}),(0,N.jsx)("span",{className:"custom-control-label",children:"Inactivo"})]})]})]})})}),(0,N.jsx)(u.Z,{className:"mb-4 mt-4",children:(0,N.jsx)(m.Z,{xs:12,sm:12,md:12,lg:12,xl:12,children:(0,N.jsx)(h.Z,{variant:"",className:"btn btn-primary",style:{width:"100%"},type:"submit",children:R?"Editar cambios":"Guardar cambios"})})})]})]})})})})]})}}}]);
//# sourceMappingURL=6671.2cfae756.chunk.js.map