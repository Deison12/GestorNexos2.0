(self.webpackChunknowa=self.webpackChunknowa||[]).push([[1618],{88879:function(e,n,t){"use strict";t.r(n);var r=t(74165),i=t(45987),s=t(15861),o=t(4942),a=t(1413),c=t(29439),l=t(20160),u=t(79627),d=t(2677),m=t(89743),f=t(323),p=t(43360),h=t(72791),x=t(16871),v=t(45644),Z=t(24490),j=t(82570),g=t.n(j),b=t(42713),C=t(91720),N=t(80022),E=t(80184),_=["id"],y={name:"",description:"",status_id:1,custom_identifier:"",file:""},I=function(){var e,n,t,j=(0,h.useState)(y),I=(0,c.Z)(j,2),w=I[0],k=I[1],z=(0,v.i)().postData,S=(0,x.TH)(),R=S.state,F=(0,Z.pN)(),L=F.errors,O=F.setError,A=F.clearError,M=(0,Z.VY)(),P=M.handleEditConfirmation,T=(M.handleSuccessAlert,M.handleErrorAlert),D=(0,h.useState)(!1),V=(0,c.Z)(D,2),q=V[0],G=V[1],H=(0,Z.TR)(k),U=H.handleAdd,B=H.fileInputRef,Y=H.image,W=H.handleButtonClick,X=H.handleDelete,J=function(e){var n=e.target,t=n.name,r=n.value,i="radio"===n.type?parseInt(r):r;if("name"===t){i=r.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ");var s=(0,a.Z)({},L);g().isEmpty(i)?s.name=["El campo nombre es obligatorio"]:delete s.name,O("name",s.name)}"custom_identifier"===t&&(i=r.toUpperCase()),k((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,o.Z)({},t,i))})),A(t),function(e,n){var t=(0,a.Z)({},L);"name"===e&&(g().isEmpty(n)?t.name=["El campo nombre es obligatorio"]:delete t.name),"custom_identifier"===e&&(g().isEmpty(n)?t.custom_identifier=["El campo indicativo es obligatorio"]:n.length>5?t.custom_identifier=["El campo indicativo no puede tener m\xe1s de 5 caracteres"]:delete t.custom_identifier),"description"===e&&(g().isEmpty(n)?t.description=["El campo descripcion es obligatorio"]:delete t.description),O("name",t.name),O("custom_identifier",t.custom_identifier),O("description",t.description)}(t,i)},K=function(){G(!0)},Q=function(){var e;null!=(null===S||void 0===S||null===(e=S.state)||void 0===e?void 0:e.id)?ee():$()},$=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w.id,n=(0,i.Z)(w,_),t=(0,a.Z)((0,a.Z)({},n),{},{id:0,file:Y}),e.next=5,z(t,"quoteTypes/store",!1,"listarservicioscotizar");case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error en createForm:",e.t0),T("Error al crear el servico de cotizaci\xf3n.");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("\xbfEst\xe1s seguro que deseas editar este servicio de cotizaci\xf3n?");case 3:if(!e.sent.isConfirmed){e.next=8;break}return n={id:w.id,file:Y,photo:Y,custom_identifier:w.custom_identifier,description:w.description,name:w.name,status_id:w.status_id},e.next=8,z(n,"quoteTypes/store",!1,"listarservicioscotizar");case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error en editForm:",e.t0),T("Error al editar el servico de cotizaci\xf3n.");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return(0,h.useEffect)((function(){R&&k(R)}),[R]),(0,E.jsxs)("div",{children:[(0,E.jsx)(b.cI,{items:["INICIO","Configuraciones","LISTA SERVICIO","CREAR SERVICIO"],baseURL:["inicio","nexos/configuraciones","nexos/vistalistadocotizaciones","crearcotizacion"]}),(0,E.jsx)(b.r3,{title:"CREAR SERVICIO"}),(0,E.jsx)(l.Z,{className:"form-horizontal",onSubmit:function(e){e.preventDefault(),Q()},children:(0,E.jsx)(u.Z,{className:"w-100",children:(0,E.jsx)(u.Z.Body,{className:"w-100",children:(0,E.jsxs)(d.Z,{sm:12,md:12,lg:6,xl:6,className:"mx-auto",children:[(0,E.jsxs)(m.Z,{className:"justify-content-center mt-5",children:[(0,E.jsx)(d.Z,{sm:12,md:12,lg:6,xl:8,children:(0,E.jsx)(f.Z,{className:"form-group",children:(0,E.jsxs)(f.Z,{className:"control-group form-group",children:[(0,E.jsx)(l.Z.Label,{className:"form-label",children:"NOMBRE DEL SERVICIO"}),(0,E.jsx)(b.fm,{message:L.name,inputFocus:q,children:(0,E.jsx)(l.Z.Control,{type:"text",className:"form-control",placeholder:"",name:"name",required:!0,value:null!==(e=null===w||void 0===w?void 0:w.name)&&void 0!==e?e:"",onChange:J,onFocus:K})})]})})}),(0,E.jsx)(d.Z,{sm:12,md:12,lg:6,xl:4,children:(0,E.jsxs)(f.Z,{className:"form-group w-100 m-0",children:[(0,E.jsx)(l.Z.Label,{children:"INDICATIVO"}),(0,E.jsx)(f.Z,{className:"control-group form-group m-0 d-flex",children:(0,E.jsx)(b.fm,{message:L.custom_identifier,inputFocus:q,children:(0,E.jsx)("div",{className:"d-flex align-items-start flex-column w-100",children:(0,E.jsx)(l.Z.Control,{type:"text",className:"form-control",placeholder:"",name:"custom_identifier",required:!0,value:null!==(n=null===w||void 0===w?void 0:w.custom_identifier)&&void 0!==n?n:"",onChange:J,onFocus:K})})})})]})})]}),(0,E.jsx)(m.Z,{className:"d-flex mt-4",children:(0,E.jsx)(d.Z,{sm:12,md:12,lg:12,xl:12,className:"",children:(0,E.jsxs)(f.Z,{children:[(0,E.jsx)(l.Z.Label,{children:"DESCRIPCION"}),(0,E.jsx)(b.fm,{message:L.description,inputFocus:q,children:(0,E.jsx)(l.Z.Control,{style:{height:"5.5cm",width:"100% !important"},as:"textarea",name:"description",value:null!==(t=null===w||void 0===w?void 0:w.description)&&void 0!==t?t:"",onChange:J,placeholder:"Detalles del servicio...",onFocus:K,required:!0})})]})})}),(0,E.jsx)(m.Z,{children:(0,E.jsx)(d.Z,{xs:12,sm:12,md:12,lg:12,xl:12,children:(0,E.jsxs)("div",{className:"d-flex flex-column align-items-center ",children:[(0,E.jsx)(l.Z.Label,{children:"Subir Foto"}),(0,E.jsxs)("div",{className:"position-relative rounded-circle hover_opacity_btn",children:[(0,E.jsx)("img",{src:Y||(null===w||void 0===w?void 0:w.photo)||"https://cdn.icon-icons.com/icons2/1880/PNG/512/iconfinder-upload-4341320_120532.png",alt:"Imagen perfil de usuario",className:"avatar avatar-xxl rounded-circle cursor-pointer opacity-75"}),(0,E.jsx)("input",{type:"file",onChange:U,ref:B,name:"file",id:"file",className:"d-none"}),(0,E.jsx)("div",{onClick:W,style:{position:"absolute",top:"30%",left:"50%",transform:"translateX(-50%)",cursor:"pointer"},children:(0,E.jsx)(C.Z,{fontSize:"large",color:"action"})}),(0,E.jsx)("div",{onClick:X,style:{position:"absolute",bottom:"0",left:"90%",cursor:"pointer"},children:(0,E.jsx)(N.Z,{fontSize:"medium",color:"action"})})]})]})})}),(0,E.jsx)(m.Z,{children:(0,E.jsx)(d.Z,{xs:12,sm:12,md:12,lg:12,xl:12,children:(0,E.jsxs)(f.Z,{className:"form-group text-center",children:[(0,E.jsx)(l.Z.Label,{className:"form-label",children:"Estado"}),(0,E.jsxs)("div",{className:"custom-controls-stacked d-flex justify-content-center gap-5",children:[(0,E.jsxs)(l.Z.Label,{className:"custom-control custom-radio",children:[(0,E.jsx)(l.Z.Control,{type:"radio",className:"custom-control-input",name:"status_id",value:1,checked:1===(null===w||void 0===w?void 0:w.status_id),onChange:J}),(0,E.jsx)("span",{className:"custom-control-label",children:"Activo"})]}),(0,E.jsxs)(l.Z.Label,{className:"custom-control custom-radio",children:[(0,E.jsx)(l.Z.Control,{type:"radio",className:"custom-control-input",name:"status_id",value:0,checked:0===(null===w||void 0===w?void 0:w.status_id),onChange:J}),(0,E.jsx)("span",{className:"custom-control-label",children:"Inactivo"})]})]})]})})}),(0,E.jsx)(m.Z,{children:(0,E.jsx)(d.Z,{xs:12,sm:12,md:12,lg:12,xl:12,children:(0,E.jsx)(p.Z,{variant:"",className:"btn btn-primary",style:{width:"100%"},type:"submit",children:R?"Guardar cambios":"Editar cambios"})})})]})})})})]})};I.defaultProps={},n.default=I},80022:function(e,n,t){"use strict";var r=t(64836);n.Z=void 0;var i=r(t(45649)),s=t(80184),o=(0,i.default)((0,s.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"HighlightOff");n.Z=o},91720:function(e,n,t){"use strict";var r=t(64836);n.Z=void 0;var i=r(t(45649)),s=t(80184),o=(0,i.default)([(0,s.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,s.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"},"1")],"PhotoCamera");n.Z=o},45649:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=t(31142)},31142:function(e,n,t){"use strict";t.r(n),t.d(n,{capitalize:function(){return i.Z},createChainedFunction:function(){return s},createSvgIcon:function(){return o.Z},debounce:function(){return a.Z},deprecatedPropType:function(){return c},isMuiElement:function(){return l.Z},ownerDocument:function(){return u.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return m},setRef:function(){return f},unstable_ClassNameGenerator:function(){return b},unstable_useEnhancedEffect:function(){return p.Z},unstable_useId:function(){return h.Z},unsupportedProp:function(){return x},useControlled:function(){return v.Z},useEventCallback:function(){return Z.Z},useForkRef:function(){return j.Z},useIsFocusVisible:function(){return g.Z}});var r=t(55902),i=t(49853),s=t(78949).Z,o=t(81245),a=t(62977);var c=function(e,n){return function(){return null}},l=t(56258),u=t(5783),d=t(98195);t(87462);var m=function(e,n){return function(){return null}},f=t(62971).Z,p=t(93026),h=t(51853);var x=function(e,n,t,r,i){return null},v=t(15178),Z=t(89511),j=t(57933),g=t(42763),b={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),r.Z.configure(e)}}},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=1618.7fc972be.chunk.js.map