"use strict";(self.webpackChunknowa=self.webpackChunknowa||[]).push([[3586],{13901:function(e,t,a){a.r(t);var s=a(45987),n=a(74165),r=a(15861),o=a(4942),i=a(1413),c=a(29439),l=a(72791),d=a(20160),u=a(79627),m=a(2677),v=a(89743),x=a(323),h=a(43360),Z=a(16871),f=a(45644),p=a(24490),j=a(42713),b=a(82570),N=a.n(b),g=a(78983),E=a(80184),C=["id"],k={id:0,name:"",status_id:1};t.default=function(){var e,t,a,b,y,w=(0,l.useState)(k),z=(0,c.Z)(w,2),I=z[0],A=z[1],S=(0,f.i)().postData,O=(0,Z.TH)(),F=O.state,L=(0,p.VY)(),_=L.handleEditConfirmation,q=(L.handleSuccessAlert,L.handleErrorAlert),D=(0,l.useState)(!1),T=(0,c.Z)(D,2),B=T[0],R=T[1],M=(0,l.useState)(!0),G=(0,c.Z)(M,2),H=G[0],U=G[1],V=(0,p.pN)(),Y=V.errors,J=V.setError,K=(V.clearError,function(e){var t=e.target,a=t.name,s=t.value,n="radio"===t.type?parseInt(s):s;"name"===a&&B&&(""===(s=s.trim())||N().isEmpty(s)?(J("name",["El campo nombre es obligatorio"]),U(!0)):(J("name",[""]),U(!1)),A((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,o.Z)({},a,n))}))),"status_id"===a&&A((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,o.Z)({},a,n))}))}),P=function(){R(!0)},Q=function(){var e;null!=(null===O||void 0===O||null===(e=O.state)||void 0===e?void 0:e.id)?X():W()},W=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,i.Z)({id:0},I),e.next=4,S(t,"quoteStatus/create",!1,"listaestadoscotizacion");case 4:e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error en createForm:",e.t0),q("Error al crear el form.");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,a,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_("\xbfEst\xe1s seguro que deseas editar este servicio?");case 3:if(!e.sent.isConfirmed){e.next=10;break}return I.id,a=(0,s.Z)(I,C),r=(0,i.Z)((0,i.Z)({},a),{},{id:null===O||void 0===O||null===(t=O.state)||void 0===t?void 0:t.id}),e.next=9,S(r,"quoteStatus/create",!1,"listaestadoscotizacion");case 9:e.sent;case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error en editForm:",e.t0),q("Error al editar el form.");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){F&&(A(F),U(!1))}),[F]),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(j.cI,{items:["INICIO","ESTADO COTIZACI\xd3N",null!==O&&void 0!==O&&null!==(e=O.state)&&void 0!==e&&e.id?"Editar estado cotizaci\xf3n":"Agregar estado cotizaci\xf3n"],baseURL:["inicio","nexos/estadocotizacion",null!==O&&void 0!==O&&null!==(t=O.state)&&void 0!==t&&t.id?"estadocotizacion/"+(null===O||void 0===O||null===(a=O.state)||void 0===a?void 0:a.id):"estadocotizacion"]}),(0,E.jsx)(j.r3,{title:null!==O&&void 0!==O&&null!==(b=O.state)&&void 0!==b&&b.id?"Editar estado cotizaci\xf3n":"Agregar estado cotizaci\xf3n"}),(0,E.jsx)(d.Z,{className:"form-horizontal",onSubmit:function(e){e.preventDefault(),console.log("FORM:",I),Q()},children:(0,E.jsx)(u.Z,{className:"w-100",children:(0,E.jsx)(u.Z.Body,{className:"w-100",children:(0,E.jsxs)(m.Z,{sm:12,md:12,lg:6,xl:6,className:"mx-auto",children:[(0,E.jsx)(v.Z,{className:"justify-content-center mt-5 mb-3",children:(0,E.jsx)(m.Z,{sm:12,md:12,lg:12,xl:12,children:(0,E.jsxs)(x.Z,{className:"form-group w-100 m-0",children:[(0,E.jsx)(d.Z.Label,{className:"mb-3",children:"NOMBRE DE LA COTIZACI\xd3N"}),(0,E.jsx)(j.fm,{message:null===Y||void 0===Y||null===(y=Y.name)||void 0===y?void 0:y[0],inputFocus:B,children:(0,E.jsx)(g.jO,{type:"text",id:"quote-autocomplete",name:"name",onChange:K,onBlur:K,onFocus:P,value:I.name?I.name:"",required:!0})})]})})}),(0,E.jsx)(v.Z,{className:"mb-2",children:(0,E.jsx)(m.Z,{xs:12,sm:12,md:12,lg:12,xl:12,children:(0,E.jsxs)(x.Z,{className:"form-group text-center",children:[(0,E.jsx)(d.Z.Label,{className:"form-label",children:"Estado"}),(0,E.jsxs)("div",{className:"custom-controls-stacked d-flex justify-content-center gap-5",children:[(0,E.jsxs)(d.Z.Label,{className:"custom-control custom-radio",children:[(0,E.jsx)(d.Z.Control,{type:"radio",className:"custom-control-input",name:"status_id",value:1,checked:1===(null===I||void 0===I?void 0:I.status_id),onChange:K,onClick:P}),(0,E.jsx)("span",{className:"custom-control-label",children:"Activo"})]}),(0,E.jsxs)(d.Z.Label,{className:"custom-control custom-radio",children:[(0,E.jsx)(d.Z.Control,{type:"radio",className:"custom-control-input",name:"status_id",value:0,checked:0===(null===I||void 0===I?void 0:I.status_id),onChange:K,onClick:P}),(0,E.jsx)("span",{className:"custom-control-label",children:"Inactivo"})]})]})]})})}),(0,E.jsx)(v.Z,{className:"mb-4",children:(0,E.jsx)(m.Z,{xs:12,sm:12,md:12,lg:12,xl:12,children:(0,E.jsx)(h.Z,{variant:"",className:"btn btn-primary",style:{width:"100%"},type:"submit",disabled:H,children:F?"Guardar cambios":"Editar cambios"})})})]})})})})]})}}}]);
//# sourceMappingURL=3586.85ab2214.chunk.js.map