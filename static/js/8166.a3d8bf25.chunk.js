"use strict";(self.webpackChunknowa=self.webpackChunknowa||[]).push([[8166],{74555:function(e,a,t){t.r(a);var s=t(45987),r=t(74165),n=t(15861),l=t(4942),o=t(1413),i=t(29439),c=t(20160),u=t(79627),d=t(2677),m=t(89743),x=t(323),p=t(43360),v=t(72791),h=t(16871),f=t(45644),Z=t(24490),j=t(42713),b=t(82570),N=t.n(b),g=t(78983),E=t(80184),y=["id"],k={id:0,name:"",status_id:1};a.default=function(){var e,a,t,b=(0,v.useState)(k),w=(0,i.Z)(b,2),C=w[0],I=w[1],_=(0,f.i)(),F=_.postData,L=_.putData,A=(0,h.TH)(),S=A.state,q=(0,Z.VY)(),D=q.handleEditConfirmation,B=q.handleErrorAlert,O=(0,v.useState)(!1),R=(0,i.Z)(O,2),z=R[0],G=R[1],H=(0,v.useState)(!0),T=(0,i.Z)(H,2),U=T[0],V=T[1],Y=(0,Z.pN)(),J=Y.errors,K=Y.setError,M=function(e){var a=e.target,t=a.name,s=a.value,r="radio"===a.type?parseInt(s):s;"name"===t&&z&&(""===(s=s.trim())||N().isEmpty(s)?(K("name",["El campo nombre del area"]),V(!0)):(K("name",[""]),V(!1)),I((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,l.Z)({},t,r))}))),"status_id"===t&&I((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,l.Z)({},t,r))}))},P=function(){G(!0)},Q=function(){var e;null!=(null===A||void 0===A||null===(e=A.state)||void 0===e?void 0:e.id)?X():W()},W=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(C,"services/types/storeRecord",!1,"listaareas");case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error en createForm:",e.t0),B("Error al crear el form.");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(){var a,t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D("\xbfEst\xe1s seguro que deseas editar esta area?");case 3:if(!e.sent.isConfirmed){e.next=9;break}return C.id,t=(0,s.Z)(C,y),n=(0,o.Z)((0,o.Z)({},t),{},{id:null===A||void 0===A||null===(a=A.state)||void 0===a?void 0:a.id}),e.next=9,L(n,"services/typeEdit","listaareas");case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error en editForm:",e.t0),B("Error al editar el form.");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return(0,v.useEffect)((function(){S&&(I(S),V(!1))}),[S]),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(j.cI,{items:["INICIO","lista de areas",null!==A&&void 0!==A&&null!==(e=A.state)&&void 0!==e&&e.id?"Editar area":"Agregar area"],baseURL:["inicio","nexos/listaareas",""]}),(0,E.jsx)(j.r3,{title:null!==A&&void 0!==A&&null!==(a=A.state)&&void 0!==a&&a.id?"Editar area":"Agregar area"}),(0,E.jsx)(c.Z,{className:"form-horizontal",onSubmit:function(e){e.preventDefault(),Q()},children:(0,E.jsx)(u.Z,{className:"w-100",children:(0,E.jsx)(u.Z.Body,{className:"w-100",children:(0,E.jsxs)(d.Z,{sm:12,md:12,lg:6,xl:6,className:"mx-auto",children:[(0,E.jsx)(m.Z,{className:"justify-content-center mt-5 mb-3",children:(0,E.jsx)(d.Z,{sm:12,md:12,lg:12,xl:12,children:(0,E.jsxs)(x.Z,{className:"form-group w-100  text-center m-0",children:[(0,E.jsx)(c.Z.Label,{className:"mb-3",children:"Nombre del area"}),(0,E.jsx)(j.fm,{message:null===J||void 0===J||null===(t=J.name)||void 0===t?void 0:t[0],inputFocus:z,children:(0,E.jsx)(g.jO,{className:"text-center",type:"text",id:"quote-autocomplete",name:"name",onChange:M,onBlur:M,onFocus:P,value:C.name?C.name:"",required:!0})})]})})}),(0,E.jsx)(m.Z,{className:"mb-2",children:(0,E.jsx)(d.Z,{xs:12,sm:12,md:12,lg:12,xl:12,children:(0,E.jsxs)(x.Z,{className:"form-group text-center",children:[(0,E.jsx)(c.Z.Label,{className:"form-label",children:"Estado"}),(0,E.jsxs)("div",{className:"custom-controls-stacked d-flex justify-content-center gap-5",children:[(0,E.jsxs)(c.Z.Label,{className:"custom-control custom-radio",children:[(0,E.jsx)(c.Z.Control,{type:"radio",className:"custom-control-input",name:"status_id",value:1,checked:1===(null===C||void 0===C?void 0:C.status_id),onChange:M,onClick:P}),(0,E.jsx)("span",{className:"custom-control-label",children:"Activo"})]}),(0,E.jsxs)(c.Z.Label,{className:"custom-control custom-radio",children:[(0,E.jsx)(c.Z.Control,{type:"radio",className:"custom-control-input",name:"status_id",value:0,checked:0===(null===C||void 0===C?void 0:C.status_id),onChange:M,onClick:P}),(0,E.jsx)("span",{className:"custom-control-label",children:"Inactivo"})]})]})]})})}),(0,E.jsx)(m.Z,{className:"mb-4",children:(0,E.jsx)(d.Z,{xs:12,sm:12,md:12,lg:12,xl:12,children:(0,E.jsx)(p.Z,{variant:"",className:"btn btn-primary",style:{width:"100%"},type:"submit",disabled:U,children:S?"Guardar cambios":"Editar cambios"})})})]})})})})]})}}}]);
//# sourceMappingURL=8166.a3d8bf25.chunk.js.map