{"version":3,"file":"static/js/5767.3f3c5df5.chunk.js","mappings":"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","sources":["components/Nexos/pages/QuoteScreens/ListQuotes/ListQuotes.tsx"],"sourcesContent":["import { Link, useNavigate } from \"react-router-dom\";\nimport { useFetch } from '../../../hooks/useFetch';\nimport { useEffect, useState } from \"react\";\n\nimport { TitleComponent, BreadCrumb, BasicDataTable, Loader } from '../../../Global';\nimport { Button, Card, Form } from \"react-bootstrap\";\n\n// GlobalFilter component\nconst GlobalFilter = ({ search, setSearch, hasAddButton, getData }: any) => {\n  const handleKeyDown = (e: any) => {\n    if (e.key === \"Enter\") {\n      getData();\n    }\n  }\n  return (\n    <span className={`d-flex ${hasAddButton ? 'w-75' : 'w-100'}`}>\n      <Form.Control value={search || \"\"} onChange={(e) => setSearch(e.target.value)} onKeyDown={handleKeyDown} className=\"form-control mb-4\" placeholder=\"Busca tus cotizaciones...\" />\n    </span>\n  );\n};\n\nconst SearchBtn = ({ search, setSearch, addButtonLink = true, getData }: any) => {\n  const handleConsultClick = () => {\n    localStorage.removeItem('form_nit');\n    localStorage.removeItem('form_quote_id');\n    localStorage.removeItem('form_client_id');\n    localStorage.removeItem('create_quote_id');\n    getData();\n  };\n  const handleAddClick = () => {\n    localStorage.removeItem('form_nit');\n    localStorage.removeItem('form_quote_id');\n    localStorage.removeItem('form_client_id');\n    localStorage.removeItem('form1-ID');\n    localStorage.removeItem('create_quote_id');\n  };\n  return (\n    <Card>\n      <Card.Body className=\"p-0 px-2 pt-4\">\n        <div className=\"d-flex justify-content-evenly\">\n          {/* Global filter component */}\n          <GlobalFilter search={search} setSearch={setSearch} getData={getData} hasAddButton={\"!!addButtonLink\"} />\n          {/* AddButton */}\n          <Link onClick={handleConsultClick} to={\"\"} state={\"\"} className=\"text-muted\">\n            <p className=\"btn btn-primary d-block d-md-none p-2 px-3 h5\"> üîçÔ∏é </p>\n            <Button  className=\"btn btn-primary d-none d-md-block w-100\">\n              CONSULTAR\n            </Button>\n          </Link>\n          {/* RedirectButton */}\n          <Link onClick={handleAddClick} to={`${process.env.PUBLIC_URL}/nexos/cotizar`} state={\"\"} className=\"text-muted\">\n            <p className=\"btn btn-primary d-block d-md-none p-2 px-3 h5\">+</p>\n            <Button  className=\"btn btn-primary d-none d-md-block w-100\">\n              AGREGAR\n            </Button>\n          </Link>\n        </div>\n      </Card.Body>\n    </Card>\n  )\n}\n\nconst ListQuotes = () => {\n\n  const [data, setData] = useState<any>([]);\n  const [search, setSearch] = useState(\"\");\n  const [firstQuery, setFirstQuery] = useState(false);\n  const { postData, isLoading } = useFetch();\n  const navigate = useNavigate();\n\n  const columns = [\n    {\n      Header: '#',\n      accessor: 'id',\n      className: 'text-center',\n    },\n    {\n      Header: 'Conjunto',\n      accessor: 'name',\n      className: 'text-center',\n    },\n    {\n      Header: 'Nit',\n      accessor: 'nit',\n      className: 'text-center',\n    },\n    {\n      Header: 'Consecutivo',\n      accessor: 'number',\n      className: 'text-center',\n    },\n    {\n      Header: 'Estado',\n      accessor: 'status',\n      className: 'text-center',\n    },\n    {\n      Header: 'Ver',\n      accessor: '',\n      Cell: ({ row }: { row: any }) => {\n        const redirect = () => {\n          localStorage.setItem(\"form_nit\", row?.original?.nit);\n          localStorage.setItem(\"form1-ID\", row?.original?.quote_type_id);\n          localStorage.setItem(\"form_client_id\", row?.original?.id);\n          localStorage.setItem(\"form_quote_id\", row?.original?.quote_id);\n\n          navigate(`${process.env.PUBLIC_URL}/nexos/cotizacionpdf`, {\n            state: row?.original\n          });\n        }\n        return (\n            <span onClick={redirect} className=\"cursor-pointer material-icons md-3 md-dark\">&#xf88c;</span>\n        )\n      },\n    },\n\n    {\n      Header: 'Mas',\n      accessor: '',\n      Cell: ({ row }: { row: any }) => {\n        return (\n          <Link\n            to={`${process.env.PUBLIC_URL}/nexos/cotizacionescliente/${row.original.id}`}\n          >\n            <span className=\"material-icons md-5 md-dark cursor-pointer\">&#xe145;</span>\n          </Link>\n        )\n      },\n    },\n  ];\n\n  const getData = async () => {\n    const body: any = {\n      \"criteria\": search\n    };\n    try {\n      const response: Response = await postData(body, 'quotes/clients/criteria');\n      setData(response);\n      setFirstQuery(true);\n    } catch (error) {\n      console.log('error => ', error)\n    }\n  }\n\n  return (\n    <div>\n      {/* breadcrumb */}\n      <BreadCrumb\n        items={['INICIO', 'VENTAS', 'LISTA COTIZACIONES']}\n        baseURL={['inicio', 'nexos/ventasconfirmaciones', 'COTIZACIONES']}\n      />\n      {/* Title */}\n      <TitleComponent\n        title='LISTA COTIZACIONES'\n      />\n\n      {/* search */}\n      <SearchBtn search={search} setSearch={setSearch} getData={getData} />\n      {/* BasicDataTable */}\n      <div>\n        {\n          (isLoading) && (<Loader />)\n        }\n        {\n          (!isLoading && data.length > 0) && ((<BasicDataTable data={data} columns={columns} addButtonLink={`${process.env.PUBLIC_URL}/nexos/cotizar`} searchFilter={false} />))\n        }\n        {\n          (!isLoading && data.length === 0 && firstQuery) && (\n            <span className=\"d-flex justify-content-center\">No se encontraron cotizaciones en la b√∫squeda</span>\n          )\n        }\n      </div>\n\n\n    </div>\n  );\n};\n\nexport default ListQuotes;"],"names":["GlobalFilter","search","setSearch","hasAddButton","getData","className","value","onChange","e","target","onKeyDown","key","placeholder","SearchBtn","addButtonLink","onClick","localStorage","removeItem","to","state","process","useState","data","setData","firstQuery","setFirstQuery","useFetch","postData","isLoading","navigate","useNavigate","columns","Header","accessor","Cell","row","setItem","original","nit","quote_type_id","id","quote_id","body","response","console","log","items","baseURL","title","length","searchFilter"],"sourceRoot":""}