"use strict";(self.webpackChunknowa=self.webpackChunknowa||[]).push([[2614],{49432:function(e,n,s){s.r(n),s.d(n,{default:function(){return M}});var t=s(74165),a=s(15861),i=s(4942),l=s(1413),r=s(29439),c=s(72791),o=s(89743),m=s(2677),d=s(79627),u=s(20160),x=s(323),h=s(43360),p=s(2469),g=s(24490),f=s(42713),j=s(36571),Z=s(7792),v=s(44393),b=s(95316),N=s(80184),_=function(e){var n=e.data,s=e.showModal,i=e.onClose,l=e.onSubmit,o=e.quote_number,m=e.message,d=e.setMessage,x=(0,c.useState)(""),p=(0,r.Z)(x,2),g=(p[0],p[1]),j=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(),d("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=""===m.trim(),v=function(e){g("rechazado"===e?"rechazado":"verificado"),Z||l({message:m,status:e})};return(0,N.jsxs)(b.Z,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",show:s,onHide:j,keyboard:!1,children:[(0,N.jsxs)(b.Z.Body,{children:[(0,N.jsxs)(u.Z.Group,{children:[(0,N.jsx)(f.r3,{title:"CASTILLA RESERVADO",align:"center"}),(0,N.jsxs)("h5",{className:"text-center",children:[" Tipo de asamblea: ",(0,N.jsxs)("b",{className:"text-primary text-uppercase",children:["   ",n.meeting_type]})," "]}),(0,N.jsxs)("h5",{className:"text-center",children:[" N\xfamero de cotizaci\xf3n: ",(0,N.jsxs)("b",{className:"text-primary text-uppercase",children:["  ",o," "]})," "]}),(0,N.jsx)("hr",{})]}),(0,N.jsxs)(u.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[(0,N.jsx)(u.Z.Label,{children:"Motivo:"}),(0,N.jsx)(u.Z.Control,{as:"textarea",rows:4,name:"message",value:m,onChange:function(e){return d(e.target.value)}})]})]}),(0,N.jsxs)(b.Z.Footer,{children:[(0,N.jsx)(h.Z,{variant:"dark",onClick:j,children:"Volver"}),(0,N.jsx)(h.Z,{variant:"danger",disabled:Z,onClick:function(){return v("rechazado")},children:"Rechazado"}),(0,N.jsx)(h.Z,{disabled:Z,variant:"primary",onClick:function(){return v("verificado")},children:"Verificado"})]})]})},C=s(16871),y=s(82570),k=s.n(y),w=s(97892),L=s.n(w),S=s(23579),E=function(e){var n=e.showModal,s=e.onClose,t=e.messages,a=(e.inCharge,(0,c.useState)(!1)),i=(0,r.Z)(a,2),l=i[0],o=i[1],m=(0,c.useState)(null),x=(0,r.Z)(m,2),p=x[0],g=x[1],j=(0,c.useState)("all"),Z=(0,r.Z)(j,2),v=Z[0],_=Z[1],C=function(){g(null),o(!1)},y="all"===v?t:t.filter((function(e){return e.priority===Number(v)}));return(0,N.jsxs)(b.Z,{show:n,onHide:s,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,scrollable:!0,children:[(0,N.jsx)(b.Z.Header,{children:(0,N.jsxs)("div",{className:"d-flex flex-column w-100",children:[(0,N.jsx)(f.r3,{title:"Mensajes"}),(0,N.jsxs)(u.Z.Select,{id:"priorityFilter",value:v,onChange:function(e){_(e.target.value)},children:[(0,N.jsx)("option",{value:"all",children:"Todos"}),(0,N.jsx)("option",{value:"1",children:"Prioritarios"}),(0,N.jsx)("option",{value:"0",children:"No prioritarios"})]})]})}),(0,N.jsxs)(b.Z.Body,{children:[(0,N.jsx)("hr",{}),(0,N.jsx)("div",{className:"grid-messages",children:(0,N.jsx)("div",{className:"messages-container",children:y.slice().reverse().map((function(e,n){return(0,N.jsxs)(d.Z,{className:"pt-4 pb-1 px-4 ".concat(1==e.priority?"priority1-card":""),style:{boxShadow:p===n?"0 0 5px #ff7300":"0 0 5px #a8a6a6",border:p===n?"solid 1px #ff7300":""},children:[(0,N.jsxs)("span",{className:"mb-2",children:[(0,N.jsx)("b",{className:"font-message-title",children:"Usuario:"})," ",(0,N.jsxs)("p",{className:"font-message",children:[" ",e.name," - ",L()(e.created_at).format("DD-MM-YYYY - HH:mm A")]})]}),(0,N.jsx)("span",{className:"font-message",children:(0,N.jsx)("b",{className:"font-message-title",children:"Nota:"})}),l&&p===n?(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{className:"font-message",children:e.message}),(0,N.jsx)("div",{className:"text-end",children:(0,N.jsx)(h.Z,{variant:"link",className:"btn-message-hover font-message",onClick:C,children:"Ver menos"})})]}):(0,N.jsxs)("div",{className:"mb-2",children:[(0,N.jsx)("p",{className:"font-message",children:e.message.length>100?e.message.slice(0,100)+"...":e.message}),e.message.length>100&&(0,N.jsx)("div",{className:"text-end",children:(0,N.jsx)(h.Z,{variant:"link",className:"btn-message-hover font-message",onClick:function(){return function(e){g(e),o(!0)}(n)},children:"Ver m\xe1s"})})]})]},n)}))})})]}),(0,N.jsx)(b.Z.Footer,{children:(0,N.jsx)(h.Z,{variant:"dark",onClick:s,children:"Cerrar"})})]})},F=s(83134),z=function(e){var n=e.showModal,s=e.onClose,i=e.onSubmit,l=e.selectedRowId,o=(0,c.useState)(""),m=(0,r.Z)(o,2),d=m[0],x=m[1],p=(0,c.useState)(""),g=(0,r.Z)(p,2),f=g[0],j=g[1],Z=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(),x(""),x(""),j("0");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=""===d.trim();return(0,N.jsxs)(b.Z,{"aria-labelledby":"contained-modal-title-vcenter",show:n,onHide:Z,keyboard:!1,children:[(0,N.jsxs)(b.Z.Body,{children:[(0,N.jsxs)(u.Z.Group,{children:[(0,N.jsx)(F.r,{title:"Mensaje seguimiento",description:"Cotizaci\xf3n #".concat(l)}),(0,N.jsx)("hr",{})]}),(0,N.jsxs)(u.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[(0,N.jsx)(u.Z.Label,{children:"Prioridad:"}),(0,N.jsxs)(u.Z.Select,{name:"priority","aria-label":"Default select example",value:f,onChange:function(e){j(e.target.value)},children:[(0,N.jsx)("option",{value:"0",defaultChecked:!0,children:"No prioritario"}),(0,N.jsx)("option",{value:"1",children:"Prioritario"})]})]}),(0,N.jsxs)(u.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[(0,N.jsx)(u.Z.Label,{children:"Nota:"}),(0,N.jsx)(u.Z.Control,{as:"textarea",rows:5,name:"message",value:d,onChange:function(e){return x(e.target.value)}})]})]}),(0,N.jsxs)(b.Z.Footer,{children:[(0,N.jsx)(h.Z,{variant:"dark",onClick:Z,children:"Cerrar"}),(0,N.jsx)(h.Z,{disabled:v,variant:"primary",onClick:function(){i({message:d,selectedRowId:l,priority:f}),Z()},children:"Agregar"})]})]})},M=function(){var e,n,s,b,y,w,F,M,I,D,H=(0,C.TH)().state.id,T=(0,g.ib)(),A=T.getAllData,Y=T.postData,B=(0,c.useState)({}),V=(0,r.Z)(B,2),R=V[0],G=V[1],P=(0,c.useState)(!1),q=(0,r.Z)(P,2),O=q[0],U=q[1],$=(0,c.useState)(!1),J=(0,r.Z)($,2),K=J[0],Q=J[1],W=(0,c.useState)(""),X=(0,r.Z)(W,2),ee=X[0],ne=X[1],se=(0,c.useState)({}),te=(0,r.Z)(se,2),ae=te[0],ie=te[1],le=(0,g.pN)(),re=le.errors,ce=le.setError,oe=le.clearError,me=(0,c.useState)({}),de=(0,r.Z)(me,2),ue=de[0],xe=de[1],he=function(e){xe((0,l.Z)((0,l.Z)({},ue),{},(0,i.Z)({},e,!ue[e])))},pe=function(e,n){G((function(s){var t=(0,l.Z)({},s);return"number"===typeof e?t.items=t.items.map((function(s){return s.id===e?(0,l.Z)((0,l.Z)({},s),{},{value:n}):s})):t[e]=n,t})),oe(e),function(e,n){var s=(0,l.Z)({},re);"name"===e&&(k().isEmpty(n)?s.name=["El campo nombre es obligatorio"]:delete s.name),"nit"===e&&(k().isEmpty(n)?s.nit="El campo NIT es obligatorio.":delete s.nit),"meeting_type"===e&&(k().isEmpty(n)?s.meeting_type="El campo Tipo de Asamblea es obligatorio.":delete s.meeting_type),"client_name"===e&&(k().isEmpty(n)?s.client_name="El campo Nombre del Cliente es obligatorio.":delete s.client_name),"address"===e&&(k().isEmpty(n)?s.address="El campo Direcci\xf3n del Comercio es obligatorio.":delete s.address),"contact_person"===e&&(k().isEmpty(n)?s.contact_person="El campo Nombre del Encargado es obligatorio.":delete s.contact_person),"meeting_register"===e&&(k().isEmpty(n)?s.meeting_register="El campo Hora de Registro es obligatorio.":delete s.meeting_register),"meeting_init"===e&&(k().isEmpty(n)?s.meeting_init="El campo Hora de Inicio es obligatorio.":delete s.meeting_init),"meeting_date"===e&&(k().isEmpty(n)?s.meeting_date="El campo Fecha del Evento es obligatorio.":delete s.meeting_date),"phone"===e&&(k().isEmpty(n)?s.phone="El campo Tel\xe9fono es obligatorio.":delete s.phone),"city"===e&&(k().isEmpty(n)?s.city="El campo Ciudad es obligatorio.":delete s.city),"observations"===e&&(k().isEmpty(n)?s.observations="El campo Observaciones es obligatorio.":delete s.observations);var t=(0,l.Z)({},ae);R.items.forEach((function(s){s.id===e&&(""===n||" "===n||null===n||void 0===n||"0"===n?t["item-".concat(s.id)]="El campo para ".concat(s.name," es obligatorio."):parseFloat(n)<0?t["item-".concat(s.id)]="El valor para ".concat(s.name," no puede ser un n\xfamero negativo."):delete t["item-".concat(s.id)])})),ie(t),ce("nit",s.nit),ce("meeting_type",s.meeting_type),ce("client_name",s.client_name),ce("address",s.address),ce("contact_person",s.contact_person),ce("meeting_register",s.meeting_register),ce("meeting_init",s.meeting_init),ce("meeting_date",s.meeting_date),ce("phone",s.phone),ce("city",s.city),ce("observations",s.observations)}(e,n)},ge=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var s,a,i,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=R.items&&R.items.map((function(e){return{id:e.id,value:e.value}})),a=R.meeting_register,i=R.meeting_init,l={items:s,quote_id:H,meeting_register:a,meeting_init:i,meeting_date:L()(R.meeting_date).format("YYYY-MM-DD"),meeting_type:R.meeting_type,address:R.address,city:R.city,name:R.client_name,contact_person:R.contact_person,contact_phone:R.contact_phone,nit:R.nit,observations:R.observations,phone:R.phone,status:n.status,description:n.message},e.next=6,Y(l,"sales/order/verification/edit");case 6:Q(!1),ne("");case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A("api/sales/order/verification/".concat(H));case 3:n=e.sent,G({id:0,status:"",horaDeRegistro:"None"===n.meeting_register?"":n.meeting_register||R.meeting_register,horaDeInicio:"None"===n.meeting_init?"":n.meeting_init||R.meeting_init,meeting_date:"None"===n.meeting_date?null:n.meeting_date||"",address:n.address||"",city:n.city||"",client_name:n.client_name||"",contact_person:n.contact_person||"",contact_phone:n.contact_phone||"",items:n.items?n.items.map((function(e){return{id:e.id,name:e.name,value:e.quantity||""}})):[],meeting_register:"None"===n.meeting_register?"":n.meeting_register||"",meeting_init:"None"===n.meeting_init?"":n.meeting_init||"",meeting_type:n.meeting_type||"",nit:n.nit||"",observations:n.observations||"",phone:n.phone||""}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var fe=(0,c.useState)([]),je=(0,r.Z)(fe,2),Ze=je[0],ve=(je[1],(0,c.useState)("")),be=(0,r.Z)(ve,2),Ne=be[0],_e=be[1],Ce=(0,c.useState)(null),ye=(0,r.Z)(Ce,2),ke=ye[0],we=(ye[1],function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_e(n.target.value);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),Le=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert("editando");case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Se=(0,c.useState)([]),Ee=(0,r.Z)(Se,2),Fe=Ee[0],ze=(Ee[1],(0,c.useState)()),Me=(0,r.Z)(ze,2),Ie=Me[0],De=(Me[1],(0,c.useState)(!1)),He=(0,r.Z)(De,2),Te=He[0],Ae=He[1],Ye=(0,c.useState)(!1),Be=(0,r.Z)(Ye,2),Ve=Be[0],Re=Be[1],Ge=(0,c.useState)(!1),Pe=(0,r.Z)(Ge,2),qe=(Pe[0],Pe[1],(0,c.useState)(!1)),Oe=(0,r.Z)(qe,2),Ue=Oe[0],$e=Oe[1],Je=(0,c.useState)([]),Ke=(0,r.Z)(Je,2),Qe=Ke[0],We=Ke[1],Xe=(sessionStorage.getItem("nombre"),(0,c.useState)("Mostrar todos")),en=(0,r.Z)(Xe,2),nn=(en[0],en[1],function(e){$e(!0)}),sn=function(){$e(!1)},tn=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("api/quotes/messages/sent/27");case 2:s=e.sent,We(s);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),an=(0,c.useState)([]),ln=(0,r.Z)(an,2),rn=ln[0],cn=ln[1],on=(0,c.useState)([]),mn=(0,r.Z)(on,2),dn=mn[0],un=mn[1],xn=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var n,s,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],s=[],a=0;a<Qe.length;a++)1===Qe[a].priority?n.push(Qe[a]):s.push(Qe[a]);cn(n),un(s);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){xn(),tn()}),[Qe]);var hn=function(){return dn&&dn.length>0?dn[dn.length-1]:[]};if(Fe&&Fe.contact_phone)Fe.contact_phone.toString().replace(/(\d{3})(\d{3})(\d{4})/,"$1 $2 $3");return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(f.cI,{items:["INICIO","RESERVAS"],baseURL:["/","nexos/verificaciones"]}),(0,N.jsx)(_,{data:R,quote_number:H,showModal:K,onClose:function(){return Q(!1)},onSubmit:ge,message:ee,setMessage:ne}),(0,N.jsx)(E,{showModal:Te,onClose:function(){return Ae(!1)},messages:Qe,maxMessagesPerRow:3,inCharge:Fe?Fe.contact_person:null}),(0,N.jsx)(z,{showModal:Ve,onClose:function(){return Re(!1)},selectedRowId:ke}),(0,N.jsxs)("div",{className:" mt-4",children:[(0,N.jsxs)(o.Z,{children:[(0,N.jsx)(m.Z,{xs:12,sm:12,md:12,lg:4,xl:4,children:(0,N.jsxs)(d.Z,{className:"p-3 ",style:{border:"3px solid #ced4da",maxHeight:"100vh",overflow:"scroll"},children:[(0,N.jsx)("h4",{className:"text-center text-uppercase",children:"verificaci\xf3n"}),(0,N.jsxs)(u.Z,{className:"form-horizontal",children:[(0,N.jsxs)(o.Z,{className:"mt-1",children:[(0,N.jsx)(m.Z,{xs:4,sm:4,md:4,lg:4,xl:4,className:"d-flex align-items-center",children:(0,N.jsx)(u.Z.Label,{className:"form-label",children:"NIT"})}),(0,N.jsx)(m.Z,{xs:6,sm:6,md:6,lg:6,xl:6,className:"d-flex align-items-center",children:(0,N.jsx)("input",{disabled:!0,onFocus:function(){return U(!0)},onBlur:function(){return U(!1)},type:"text",className:"form-control text-capitalize",name:"nit",value:null!==(e=null===R||void 0===R?void 0:R.nit)&&void 0!==e?e:"",onChange:function(e){return pe("nit",e.target.value)}})})]}),(0,N.jsxs)(o.Z,{className:"mt-1",children:[(0,N.jsxs)(m.Z,{xs:4,sm:4,md:4,lg:4,xl:4,className:"d-flex align-items-center",children:[(0,N.jsxs)(u.Z.Label,{className:"custom-control custom-checkbox cursor-pointer",children:[(0,N.jsx)(u.Z.Control,{type:"checkbox",name:"meeting_type",className:"p-0 custom-control-input ".concat(ue?"checked":""),checked:ue.meeting_type,onClick:function(){return he("meeting_type")},defaultChecked:!(null===R||void 0===R||!R.meeting_type)}),(0,N.jsx)("span",{className:"custom-control-label"})]}),(0,N.jsx)(u.Z.Label,{className:"form-label text-capitalize",children:"tipo de asamblea"})]}),(0,N.jsx)(m.Z,{xs:8,sm:8,md:8,lg:8,xl:8,className:"d-flex align-items-center",children:(0,N.jsx)(f.fm,{message:re.meeting_type,inputFocus:O,children:(0,N.jsx)("input",{disabled:ue.meeting_type,onFocus:function(){return U(!0)},onBlur:function(){return U(!1)},type:"text",className:"form-control text-capitalize",name:"meeting_type",value:null!==(n=null===R||void 0===R?void 0:R.meeting_type)&&void 0!==n?n:"",onChange:function(e){return pe("meeting_type",e.target.value)}})})})]}),(0,N.jsxs)(o.Z,{className:"mt-1",children:[(0,N.jsxs)(m.Z,{xs:4,sm:4,md:4,lg:4,xl:4,className:"d-flex align-items-center",children:[(0,N.jsxs)(u.Z.Label,{className:"custom-control custom-checkbox cursor-pointer",children:[(0,N.jsx)(u.Z.Control,{type:"checkbox",name:"is_default",className:"p-0 custom-control-input ".concat(ue?"checked":""),checked:ue.client_name,onClick:function(){return he("client_name")}}),(0,N.jsx)("span",{className:"custom-control-label"})]}),(0,N.jsx)(u.Z.Label,{className:"form-label text-capitalize",children:"Nombre cliente"})]}),(0,N.jsx)(m.Z,{xs:8,sm:8,md:8,lg:8,xl:8,className:"d-flex align-items-center",children:(0,N.jsx)(f.fm,{message:re.client_name,inputFocus:O,children:(0,N.jsx)("input",{disabled:ue.client_name,onFocus:function(){return U(!0)},onBlur:function(){return U(!1)},type:"text",className:"form-control text-capitalize",name:"client_name",value:null!==(s=null===R||void 0===R?void 0:R.client_name)&&void 0!==s?s:"",onChange:function(e){return pe("client_name",e.target.value)}})})})]}),(0,N.jsxs)(o.Z,{className:"mt-1",children:[(0,N.jsxs)(m.Z,{xs:4,sm:4,md:4,lg:4,xl:4,className:"d-flex align-items-center",children:[(0,N.jsxs)(u.Z.Label,{className:"custom-control custom-checkbox cursor-pointer",children:[(0,N.jsx)(u.Z.Control,{type:"checkbox",name:"is_default",className:"p-0 custom-control-input ".concat(ue?"checked":""),checked:ue.address,onClick:function(){return he("address")},defaultChecked:!(null===R||void 0===R||!R.address)}),(0,N.jsx)("span",{className:"custom-control-label"})]}),(0,N.jsx)(u.Z.Label,{className:"form-label text-capitalize",children:"Direccion comercio"})]}),(0,N.jsx)(m.Z,{xs:8,sm:8,md:8,lg:8,xl:8,className:"d-flex align-items-center",children:(0,N.jsx)(f.fm,{message:re.address,inputFocus:O,children:(0,N.jsx)("input",{disabled:ue.address,onFocus:function(){return U(!0)},onBlur:function(){return U(!1)},type:"text",className:"form-control text-capitalize",name:"address",value:null!==(b=null===R||void 0===R?void 0:R.address)&&void 0!==b?b:"",onChange:function(e){return pe("address",e.target.value)}})})})]}),(0,N.jsxs)(o.Z,{className:"mt-1",children:[(0,N.jsxs)(m.Z,{xs:4,sm:4,md:4,lg:4,xl:4,className:"d-flex align-items-center",children:[(0,N.jsxs)(u.Z.Label,{className:"custom-control custom-checkbox cursor-pointer",children:[(0,N.jsx)(u.Z.Control,{type:"checkbox",name:"is_default",className:"p-0 custom-control-input ".concat(ue?"checked":""),checked:ue.contact_person,onClick:function(){return he("contact_person")},defaultChecked:!(null===R||void 0===R||!R.contact_person)}),(0,N.jsx)("span",{className:"custom-control-label"})]}),(0,N.jsx)(u.Z.Label,{className:"form-label text-capitalize",children:"Nombre encargado"})]}),(0,N.jsx)(m.Z,{xs:8,sm:8,md:8,lg:8,xl:8,className:"d-flex align-items-center",children:(0,N.jsx)(f.fm,{message:re.contact_person,inputFocus:O,children:(0,N.jsx)("input",{disabled:ue.contact_person,onFocus:function(){return U(!0)},onBlur:function(){return U(!1)},type:"text",className:"form-control text-capitalize",name:"contact_person",value:null!==(y=null===R||void 0===R?void 0:R.contact_person)&&void 0!==y?y:"",onChange:function(e){return pe("contact_person",e.target.value)}})})})]}),(0,N.jsxs)(o.Z,{className:"mt-1",children:[(0,N.jsxs)(m.Z,{xs:4,lg:4,xl:4,className:"d-flex align-items-center",children:[(0,N.jsxs)(u.Z.Label,{className:"custom-control custom-checkbox cursor-pointer",children:[(0,N.jsx)(u.Z.Control,{type:"checkbox",name:"is_default",className:"p-0 custom-control-input ".concat(ue?"checked":""),checked:ue.meeting_register,onClick:function(){return he("meeting_register")},defaultChecked:!(null===R||void 0===R||!R.meeting_register)}),(0,N.jsx)("span",{className:"custom-control-label"})]}),(0,N.jsx)(u.Z.Label,{className:"form-label text-capitalize",children:"Hora de registro"})]}),(0,N.jsx)(m.Z,{xs:8,lg:8,xl:8,children:(0,N.jsx)(f.fm,{message:re.meeting_register,inputFocus:O,children:(0,N.jsx)(j._,{dateAdapter:Z.y,children:(0,N.jsx)(v.Z,{disabled:ue.meeting_register,onFocus:function(){return U(!0)},onBlur:function(){return U(!1)},id:"meeting_register",label:"",className:"w-100 cursor-pointer",size:"small",type:"time",value:null!==(w=null===R||void 0===R?void 0:R.meeting_register)&&void 0!==w?w:"",onChange:function(e){return pe("meeting_register",e.target.value)},defaultValue:null===R||void 0===R?void 0:R.meeting_register})})})})]}),(0,N.jsxs)(o.Z,{className:"mt-1",children:[(0,N.jsxs)(m.Z,{xs:4,lg:4,xl:4,className:"d-flex align-items-center",children:[(0,N.jsxs)(u.Z.Label,{className:"custom-control custom-checkbox cursor-pointer",children:[(0,N.jsx)(u.Z.Control,{type:"checkbox",name:"is_default",className:"p-0 custom-control-input ".concat(ue?"checked":""),checked:ue.meeting_init,onClick:function(){return he("meeting_init")},defaultChecked:!(null===R||void 0===R||!R.meeting_init)}),(0,N.jsx)("span",{className:"custom-control-label"})]}),(0,N.jsx)(u.Z.Label,{className:"form-label text-capitalize",children:"Hora de inicio"})]}),(0,N.jsx)(m.Z,{xs:8,lg:8,xl:8,children:(0,N.jsx)(f.fm,{message:re.meeting_init,inputFocus:O,children:(0,N.jsx)(j._,{dateAdapter:Z.y,children:(0,N.jsx)(v.Z,{disabled:ue.meeting_init,onFocus:function(){return U(!0)},onBlur:function(){return U(!1)},id:"meeting_init",label:"",className:"w-100 cursor-pointer",size:"small",type:"time",value:null!==(F=null===R||void 0===R?void 0:R.meeting_init)&&void 0!==F?F:"",onChange:function(e){return pe("meeting_init",e.target.value)},defaultValue:null===R||void 0===R?void 0:R.meeting_init})})})})]}),(0,N.jsxs)(o.Z,{className:"mt-1",children:[(0,N.jsxs)(m.Z,{xs:4,sm:4,md:4,lg:4,xl:4,className:"d-flex align-items-center",children:[(0,N.jsxs)(u.Z.Label,{className:"custom-control custom-checkbox cursor-pointer",children:[(0,N.jsx)(u.Z.Control,{type:"checkbox",name:"is_default",className:"p-0 custom-control-input ".concat(ue?"checked":""),checked:ue.meeting_date,onClick:function(){return he("meeting_date")},defaultChecked:!(null===R||void 0===R||!R.meeting_date)}),(0,N.jsx)("span",{className:"custom-control-label"})]}),(0,N.jsx)(u.Z.Label,{className:"form-label text-capitalize",children:"Fecha del evento"})]}),(0,N.jsx)(m.Z,{xs:8,sm:8,md:8,lg:8,xl:8,className:"d-flex align-items-center",children:(0,N.jsx)(f.fm,{message:re.meeting_date,inputFocus:O,children:(0,N.jsx)(j._,{dateAdapter:Z.y,children:(0,N.jsx)(S.M,{disabled:ue.meeting_date,className:"w-100",label:" ",value:null===R||void 0===R?void 0:R.meeting_date,onChange:function(e){return pe("meeting_date",e)},renderInput:function(e){return(0,N.jsx)(v.Z,(0,l.Z)({},e))}})})})})]}),(0,N.jsxs)(o.Z,{className:"mt-1",children:[(0,N.jsxs)(m.Z,{xs:4,sm:4,md:4,lg:4,xl:4,className:"d-flex align-items-center",children:[(0,N.jsxs)(u.Z.Label,{className:"custom-control custom-checkbox cursor-pointer",children:[(0,N.jsx)(u.Z.Control,{type:"checkbox",name:"is_default",className:"p-0 custom-control-input ".concat(ue?"checked":""),checked:ue.phone,onClick:function(){return he("phone")},defaultChecked:!(null===R||void 0===R||!R.phone)}),(0,N.jsx)("span",{className:"custom-control-label"})]}),(0,N.jsx)(u.Z.Label,{className:"form-label text-capitalize",children:"Telefono"})]}),(0,N.jsx)(m.Z,{xs:8,sm:8,md:8,lg:8,xl:8,className:"d-flex align-items-center",children:(0,N.jsx)(f.fm,{message:re.phone,inputFocus:O,children:(0,N.jsx)("input",{disabled:ue.phone,onFocus:function(){return U(!0)},onBlur:function(){return U(!1)},type:"text",className:"form-control text-capitalize",name:"phone",value:null!==(M=null===R||void 0===R?void 0:R.phone)&&void 0!==M?M:"",onChange:function(e){return pe("phone",e.target.value)}})})})]}),(0,N.jsxs)(o.Z,{className:"mt-1",children:[(0,N.jsxs)(m.Z,{xs:4,sm:4,md:4,lg:4,xl:4,className:"d-flex align-items-center",children:[(0,N.jsxs)(u.Z.Label,{className:"custom-control custom-checkbox cursor-pointer",children:[(0,N.jsx)(u.Z.Control,{type:"checkbox",name:"is_default",className:"p-0 custom-control-input ".concat(ue?"checked":""),checked:ue.city,onClick:function(){return he("city")},defaultChecked:!(null===R||void 0===R||!R.city)}),(0,N.jsx)("span",{className:"custom-control-label"})]}),(0,N.jsx)(u.Z.Label,{className:"form-label text-capitalize",children:"ciudad"})]}),(0,N.jsx)(m.Z,{xs:8,sm:8,md:8,lg:8,xl:8,className:"d-flex align-items-center",children:(0,N.jsx)(f.fm,{message:re.city,inputFocus:O,children:(0,N.jsx)("input",{disabled:ue.city,onFocus:function(){return U(!0)},onBlur:function(){return U(!1)},type:"text",className:"form-control text-capitalize",name:"city",value:null!==(I=null===R||void 0===R?void 0:R.city)&&void 0!==I?I:"",onChange:function(e){return pe("city",e.target.value)}})})})]}),(0,N.jsxs)(o.Z,{className:"mt-1",children:[(0,N.jsxs)(m.Z,{xs:4,sm:4,md:4,lg:4,xl:4,className:"d-flex align-items-center",children:[(0,N.jsxs)(u.Z.Label,{className:"custom-control custom-checkbox cursor-pointer",children:[(0,N.jsx)(u.Z.Control,{type:"checkbox",name:"is_default",className:"p-0 custom-control-input ".concat(ue?"checked":""),checked:ue.observations,onClick:function(){return he("observations")},defaultChecked:!(null===R||void 0===R||!R.observations)}),(0,N.jsx)("span",{className:"custom-control-label"})]}),(0,N.jsx)(u.Z.Label,{className:"form-label text-capitalize",children:"Observaciones"})]}),(0,N.jsx)(m.Z,{xs:8,sm:8,md:8,lg:8,xl:8,className:"d-flex align-items-center",children:(0,N.jsx)(f.fm,{message:re.observations,inputFocus:O,children:(0,N.jsx)("input",{disabled:ue.observations,onFocus:function(){return U(!0)},onBlur:function(){return U(!1)},type:"text",className:"form-control text-capitalize",name:"observations",value:null!==(D=null===R||void 0===R?void 0:R.observations)&&void 0!==D?D:"",onChange:function(e){return pe("observations",e.target.value)}})})})]})]}),(0,N.jsx)("h4",{className:"text-center text-uppercase my-4",children:" Servicios o equipos "}),R&&R.items&&R.items.length>0?R.items.map((function(e,n){var s;return(0,N.jsx)("div",{className:"m-0 p-0 w-100",children:(0,N.jsx)(f.fm,{message:ae["item-".concat(e.id)],inputFocus:O,children:(0,N.jsx)(d.Z,{className:"mb-2 w-100",style:{border:n===O?"3px solid #ff671c":"3px solid #ced4da"},onClick:function(){return U(n)},children:(0,N.jsxs)(o.Z,{className:"p-2",children:[(0,N.jsxs)(m.Z,{xs:4,sm:4,md:4,lg:4,xl:4,className:"d-flex align-items-center",children:[(0,N.jsxs)(u.Z.Label,{className:"custom-control custom-checkbox cursor-pointer",children:[(0,N.jsx)(u.Z.Control,{type:"checkbox",name:"is_default",className:"p-0 custom-control-input ".concat(ue[e.id]?"checked":""),onClick:function(){return he(e.id)},defaultChecked:ue[e.id]}),(0,N.jsx)("span",{className:"custom-control-label"})]}),(0,N.jsx)(x.Z,{className:"form-group d-flex align-items-center m-auto",children:(0,N.jsx)("input",{disabled:ue[e.id],onFocus:function(){return U(!0)},onBlur:function(){return U(!1)},type:"number",className:"form-control text-center",value:null!==(s=e.value)&&void 0!==s?s:"",onChange:function(n){return pe(e.id,n.target.value)}})})]}),(0,N.jsx)(m.Z,{xs:8,sm:8,md:8,lg:8,xl:8,className:"d-flex align-items-center",children:(0,N.jsx)(u.Z.Label,{className:"form-label",children:e.name})})]})})})},e.id)})):(0,N.jsx)("div",{className:"text-center",children:"No se contrataron servicios o equipos."})]})}),(0,N.jsxs)(m.Z,{xs:12,sm:12,md:12,lg:4,xl:4,children:[(0,N.jsxs)(o.Z,{className:"mt-5 mb-2",children:[(0,N.jsx)(m.Z,{xs:10,children:(0,N.jsxs)(u.Z.Select,{"aria-label":"Default select example",value:Ne,onChange:we,children:[(0,N.jsx)("option",{value:"",children:"Selecciona una opci\xf3n"}),Ze.map((function(e){return(0,N.jsx)("option",{value:e.name,children:e.name},e.name)}))]})}),(0,N.jsx)(m.Z,{xs:2,children:(0,N.jsx)(o.Z,{className:"text-capitalize d-flex justify-content-center gap-2",children:(0,N.jsx)(h.Z,{className:"w-100 mb-2 ",onClick:Le,children:(0,N.jsx)("svg",{width:20,className:"p-0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,N.jsx)("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM11.0026 16L18.0737 8.92893L16.6595 7.51472L11.0026 13.1716L8.17421 10.3431L6.75999 11.7574L11.0026 16Z",fill:"#ffffff"})})})})})]}),(0,N.jsx)(o.Z,{className:"mt-1",children:(0,N.jsx)(m.Z,{xs:12,sm:12,md:12,lg:12,xl:12,children:(0,N.jsxs)(u.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[(0,N.jsx)(u.Z.Label,{children:"Equipos adicionales:"}),(0,N.jsx)(u.Z.Control,{as:"textarea",rows:3,name:"message",value:ee,onChange:function(e){return ne(e.target.value)}})]})})}),(0,N.jsx)(o.Z,{className:"my-2",children:(0,N.jsx)(m.Z,{xs:12,sm:12,md:12,lg:12,xl:12,children:(0,N.jsx)(h.Z,{variant:"primary",onClick:function(){return alert("button agendar")},children:"Agendar Visita"})})}),(0,N.jsx)(o.Z,{children:(0,N.jsx)(m.Z,{xs:12,sm:12,md:12,lg:12,xl:12,children:(0,N.jsx)(u.Z.Group,{className:"mb-1",controlId:"exampleForm.ControlTextarea1",children:(0,N.jsx)(u.Z.Control,{as:"textarea",rows:2,name:"message",value:ee,onChange:function(e){return ne(e.target.value)}})})})}),(0,N.jsx)(o.Z,{children:(0,N.jsx)(m.Z,{xs:12,sm:12,md:12,lg:12,xl:12,children:(0,N.jsxs)(u.Z.Group,{className:"mb-1",controlId:"exampleForm.ControlTextarea1",children:[(0,N.jsx)(u.Z.Label,{children:"Observaci\xf3n de la confirmaci\xf3n"}),(0,N.jsx)(u.Z.Control,{as:"textarea",rows:2,name:"message",value:ee,onChange:function(e){return ne(e.target.value)}})]})})}),(0,N.jsx)(o.Z,{children:(0,N.jsx)(m.Z,{xs:12,sm:12,md:12,lg:12,xl:12,children:(0,N.jsxs)(u.Z.Group,{className:"mb-1",controlId:"exampleForm.ControlTextarea1",children:[(0,N.jsx)(u.Z.Label,{children:"Preguntar por:"}),(0,N.jsx)(u.Z.Control,{as:"textarea",rows:2,name:"message",value:ee,onChange:function(e){return ne(e.target.value)}})]})})})]}),(0,N.jsxs)(m.Z,{xs:12,sm:12,md:12,lg:4,xl:4,children:[(0,N.jsx)(o.Z,{className:"mt-1",children:(0,N.jsx)(m.Z,{xs:12,sm:12,md:12,lg:12,xl:12,children:(0,N.jsxs)(u.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[(0,N.jsx)(u.Z.Label,{children:"Nota:"}),(0,N.jsx)(u.Z.Control,{as:"textarea",rows:10,name:"message",value:ee,onChange:function(e){return ne(e.target.value)}})]})})}),(0,N.jsx)(o.Z,{className:"my-2 w-100",children:(0,N.jsx)(m.Z,{xs:12,sm:12,md:12,lg:12,xl:12,children:hn()&&hn().message?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(o.Z,{className:"",children:(0,N.jsx)(h.Z,{className:"w-100 mb-2",onClick:function(){return Re(!0)},children:"Mensaje"})}),(0,N.jsx)(o.Z,{className:"",children:(0,N.jsx)(h.Z,{className:"mb-3 w-100",onClick:function(){return Ae(!0)},children:"Todos los mensajes"})}),rn&&rn.length>0?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("b",{children:"Notas Prioritarias"}),(0,N.jsx)(p.Z,{variant:"danger",children:(0,N.jsx)("div",{className:"d-flex flex-column",children:rn.slice(-4).map((function(e){return(0,N.jsxs)("div",{children:[(0,N.jsx)("b",{children:"Usuario:"})," ",(0,N.jsxs)("h6",{className:"text-capitalize",children:[e.name," - ",L()(e.created_at).format("DD-MM-YYYY - HH:mm A")]}),(0,N.jsx)("b",{children:"Nota: "}),Ue?(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{children:e.message}),(0,N.jsx)("div",{className:"text-end",children:(0,N.jsx)(h.Z,{variant:"link",className:"btn-message-hover",onClick:sn,children:"Ver menos"})})]}):(0,N.jsxs)("div",{className:"mb-2",children:[(0,N.jsx)("p",{children:e.message.length>100?e.message.slice(0,100)+"...":e.message}),e.message.length>100&&(0,N.jsx)("div",{className:"text-end",children:(0,N.jsx)(h.Z,{variant:"link",className:"btn-message-hover",onClick:function(){return nn()},children:"Ver m\xe1s"})})]})]},e.id)}))})})]}):null,(0,N.jsxs)(d.Z,{className:"pt-4 pb-1 px-4 mb-3",children:[(0,N.jsxs)("span",{className:"mb-2",children:[(0,N.jsx)("b",{children:"Usuario:"})," ",(0,N.jsxs)("p",{children:[Ie||hn().name," -"," ",L()(hn().created_at).format("DD-MM-YYYY - HH:mm A")]})]}),(0,N.jsx)("span",{children:(0,N.jsx)("b",{children:"Nota:"})}),Ue?(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{children:hn().message}),(0,N.jsx)("div",{className:"text-end",children:(0,N.jsx)(h.Z,{variant:"link",className:"btn-message-hover",onClick:sn,children:"Ver menos"})})]}):(0,N.jsxs)("div",{className:"mb-2",children:[(0,N.jsx)("p",{children:hn().message.length>100?hn().message.slice(0,100)+"...":hn().message}),hn().message.length>100&&(0,N.jsx)("div",{className:"text-end",children:(0,N.jsx)(h.Z,{variant:"link",className:"btn-message-hover",onClick:function(){return nn(hn())},children:"Ver m\xe1s"})})]})]})]}):(0,N.jsx)(d.Z,{className:"p-4 text-center",children:(0,N.jsx)("h4",{className:"text-center",children:"No tienes mensajes"})})})})]})]}),(0,N.jsx)(o.Z,{className:"d-flex justify-content-end my-4 me-2",children:(0,N.jsx)(h.Z,{variant:"primary",onClick:function(){return Q(!0)},children:"Continuar"})})]})]})}},2469:function(e,n,s){var t=s(1413),a=s(45987),i=s(81694),l=s.n(i),r=s(72791),c=s(80239),o=s(39007),m=s(16445),d=s(10162),u=s(72709),x=s(80473),h=s(27472),p=s(66543),g=s(80184),f=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],j=(0,h.Z)("h4");j.displayName="DivStyledAsH4";var Z=(0,p.Z)("alert-heading",{Component:j}),v=(0,p.Z)("alert-link",{Component:m.Z}),b={variant:"primary",show:!0,transition:u.Z,closeLabel:"Close alert"},N=r.forwardRef((function(e,n){var s=(0,c.Ch)(e,{show:"onClose"}),i=s.bsPrefix,r=s.show,m=s.closeLabel,h=s.closeVariant,p=s.className,j=s.children,Z=s.variant,v=s.onClose,b=s.dismissible,N=s.transition,_=(0,a.Z)(s,f),C=(0,d.vE)(i,"alert"),y=(0,o.Z)((function(e){v&&v(!1,e)})),k=!0===N?u.Z:N,w=(0,g.jsxs)("div",(0,t.Z)((0,t.Z)({role:"alert"},k?void 0:_),{},{ref:n,className:l()(p,C,Z&&"".concat(C,"-").concat(Z),b&&"".concat(C,"-dismissible")),children:[b&&(0,g.jsx)(x.Z,{onClick:y,"aria-label":m,variant:h}),j]}));return k?(0,g.jsx)(k,(0,t.Z)((0,t.Z)({unmountOnExit:!0},_),{},{ref:void 0,in:r,children:w})):r?w:null}));N.displayName="Alert",N.defaultProps=b,n.Z=Object.assign(N,{Link:v,Heading:Z})}}]);
//# sourceMappingURL=2614.c431d052.chunk.js.map