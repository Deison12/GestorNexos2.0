"use strict";(self.webpackChunknowa=self.webpackChunknowa||[]).push([[4490],{24490:function(e,t,n){n.d(t,{Jf:function(){return f},VY:function(){return d.V},pN:function(){return g},ib:function(){return h.i},TR:function(){return u},y$:function(){return b},fg:function(){return R}});var a=n(1413),r=n(29439),o=n(72791),u=function(e){var t=(0,o.useRef)(null),n=(0,o.useState)(""),u=(0,r.Z)(n,2),l=u[0],s=u[1];return{handleAdd:function(t){var n=new FileReader;n.addEventListener("load",(function(t){var n,r=null===(n=t.target)||void 0===n?void 0:n.result;s(r),e((function(e){return(0,a.Z)((0,a.Z)({},e),{},{file:r})}))})),n.readAsDataURL(t.target.files[0])},handleDelete:function(e){s("")},handleButtonClick:function(){t.current.click()},handleChangeImage:function(e){s(e)},fileInputRef:t,image:l}},l=n(74165),s=n(4942),i=n(15861),c=n(93433),d=n(11960),f=function(e,t,n,u){var f=(0,o.useState)([{value:"",showRemove:!1,isDisabled:!0}]),g=(0,r.Z)(f,2),h=g[0],v=g[1],p=(0,d.V)().handleEditConfirmation,m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!(h.length>2)){var t=(0,c.Z)(h);console.log("handleAddInput agregando nuevo input:",{updatedInputs:t},{value:e}),t[t.length-1].showRemove=!0,2===t.length?v([].concat((0,c.Z)(t),[{value:e.length>0?e:"",showRemove:!0,isDisabled:!1}])):v([].concat((0,c.Z)(t),[{value:e.length>0?e:"",showRemove:!1,isDisabled:!(e.length>0)}]))}},Z=function(e,t){var n=(0,c.Z)(h);n[e].isDisabled=t,v(n)},w=function(){var r=(0,i.Z)((0,l.Z)().mark((function r(o){var i,d,f;return(0,l.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i="email"===o?"correo":"tel\xe9fono",d=(0,c.Z)(h),f=(0,a.Z)({},e),console.log("REMOVES INPOUTS:",d),""!==d[d.length-1].value){r.next=14;break}2===d.length&&(t((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,s.Z)({},"".concat(o,"2"),""))})),delete f["".concat(o,"2")]),3===d.length&&(t((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,s.Z)({},"".concat(o,"3"),""))})),delete f["".concat(o,"3")]),d.splice(d.length-1,1),d.length>0&&(d[d.length-1].showRemove=!1),v(d),n(f),console.log({validationErrors:f}),r.next=18;break;case 14:return r.next=16,p("\xbfDesea eliminar el ".concat(i," ").concat(h.length,"?"));case 16:r.sent.isConfirmed&&(2===d.length&&(t((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,s.Z)({},"".concat(o,"2"),""))})),delete f["".concat(o,"2")]),3===d.length&&(t((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,s.Z)({},"".concat(o,"3"),""))})),delete f["".concat(o,"3")]),d.splice(d.length-1,1),d.length>0&&(d[d.length-1].showRemove=!1),v(d));case 18:Object.keys(f).length>0?(n(f),u(!0)):(n({}),u(!1));case 19:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),b=function(e,t){var n=(0,c.Z)(h);n[e].value=t,v(n)};return{handleAddInput:m,handleRemoveInput:w,handleChangeInput:b,changeIsDisabled:Z,handleResetInputs:function(){v([{value:"",showRemove:!1,isDisabled:!0}])},setInputs:v,mapInputArray:function(e){console.log({array:e});var t=["s@gmail.com","x@gmail.com","z@gmail.com"];b(0,t[0]),Z(0,!1),console.log("ARREGLO:::",t),t.forEach((function(e,t){t>0&&m(e)}))},inputs:h}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.useState)(e),n=(0,r.Z)(t,2),u=n[0],l=n[1],i=function(e,t){l((function(n){return(0,a.Z)((0,a.Z)({},n),{},(0,s.Z)({},e,t))}))},c=function(e){l((function(t){var n=(0,a.Z)({},t);return delete n[e],n}))};return{errors:u,setError:i,clearError:c}},h=n(45644),v=n(82570),p=n.n(v),m=n(43510),Z={id:0,name:"",email:"",password:"",phone:"",profiles:[],file:"",status_id:1},w={name:"",email:"",phone:"",profiles:""},b=function(e,t){var n=(0,o.useState)([]),u=(0,r.Z)(n,2),l=u[0],i=u[1],d=(0,o.useState)({type:"password"}),f=(0,r.Z)(d,2),g=f[0],h=f[1],v=(0,o.useState)(!0),b=(0,r.Z)(v,2),R=b[0],I=b[1],E=(0,o.useState)(!1),S=(0,r.Z)(E,2),k=S[0],y=S[1],C=(0,o.useState)(w),D=(0,r.Z)(C,2),x=D[0],A=D[1],P=(0,o.useState)(!0),V=(0,r.Z)(P,2),L=V[0],N=V[1],O=function(t){if(-1===l.indexOf(t)){var n=0===l.length?[t]:[].concat((0,c.Z)(l),[t]);i([].concat((0,c.Z)(l),[t])),e((function(e){return(0,a.Z)((0,a.Z)({},e),{},{profiles:n})}))}else{var r=null===l||void 0===l?void 0:l.filter((function(e){return e!==t}));i(r),e((function(e){return(0,a.Z)((0,a.Z)({},e),{},{profiles:r})}))}};return{handleCheckboxChange:O,handleChange:function(n){var r=(0,a.Z)({},x),o=n.target,u=o.name,i=o.value;if("name"===u&&i.toLowerCase().replace(/\b\w/g,(function(e){return e.toUpperCase()})),"name"===n.target.name&&k&&(p().isEmpty(n.target.value)?r.name=["El nombre es obligatorio"]:delete r.name,e((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,s.Z)({},n.target.name,n.target.value))}))),"password"===n.target.name&&k){r.password=[],/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(n.target.value)?delete r.password:(n.target.value.length<8&&r.password.push(" La contrase\xf1a debe tener al menos 8 caracteres"),/\d/.test(n.target.value)||r.password.push(" Contener al menos un n\xfamero"),/[A-Z]/.test(n.target.value)||r.password.push(" Incluir al menos una letra may\xfascula"),/[a-z]/.test(n.target.value)||r.password.push(" Incluir al menos una letra min\xfascula")),""===n.target.value&&t.id&&delete r.password,e((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,s.Z)({},n.target.name,n.target.value))}))}"email"===n.target.name&&k&&(!(0,m.vV)(n.target.value)||p().isEmpty(n.target.value)?r.email=["Correo Invalido o vacio"]:delete r.email,e((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,s.Z)({},n.target.name,n.target.value))}))),"phone"===n.target.name&&k&&(n.target.value=n.target.value.replace(/[^\d]/g,""),n.target.value=n.target.value.slice(0,10),n.target.length>10||""===n.target.value||p().isEmpty(n.target.value)||0===n.target.length?r.phone=["N\xfamero telefonico no v\xe1lido"]:delete r.phone,e((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,s.Z)({},n.target.name,n.target.value))}))),"profiles"===n.target.name&&(n.target.checked||1!==l.length?delete r.profiles:r.profiles=["Seleccione al menos un rol"],O(Number(n.target.value))),"status_id"===n.target.name&&e((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,s.Z)({},n.target.name,Number(n.target.value)))})),Object.keys(r).length>0?(A(r),N(!0)):(A({}),N(!1))},setUserProfiles:i,showHide:function(e){e.preventDefault(),e.stopPropagation(),h((function(e){return{type:"text"===e.type?"password":"text"}})),I((function(e){return!e}))},setIsPasswordTouched:y,resetForm:function(){e(Z),i([]),A(w)},setErrors:A,setHasErrors:N,isPasswordTouched:k,userProfiles:l,typePassword:g,isLocked:R,errors:x,hasErrors:L}},R=function(){var e=(0,d.V)().handleInfoAlert;return{handlerRedirect:function(t){t||e("Necesitas seleccionar el tipo de cotizaci\xf3n","cotizar")}}}},43510:function(e,t,n){function a(e){return/\S+@\S+\.\S+/.test(e)}function r(e){return/^\d{5,12}-?\d$/.test(e)}n.d(t,{o8:function(){return r},vV:function(){return a}})}}]);
//# sourceMappingURL=4490.941142db.chunk.js.map