"use strict";(self.webpackChunknowa=self.webpackChunknowa||[]).push([[9646],{48917:function(e,n,r){r.r(n);var t=r(45987),s=r(74165),a=r(15861),o=r(4942),c=r(1413),l=r(29439),i=r(20160),u=r(79627),d=r(2677),m=r(89743),p=r(323),f=r(43360),h=r(72791),x=r(16871),Z=r(45644),v=r(24490),b=r(42713),j=r(97008),g=r(44393),N=r(9975),E=r(68285),C=r(80184),k=["id"],w={id:0,name:void 0,status_id:1};n.default=function(){var e,n,r,y,I=(0,h.useState)(w),A=(0,l.Z)(I,2),L=A[0],_=A[1],S=(0,Z.i)().postData,F=(0,x.TH)(),D=F.state,O=(0,v.VY)(),P=O.handleEditConfirmation,q=O.handleSuccessAlert,B=O.handleErrorAlert,U=(0,h.useState)(!1),z=(0,l.Z)(U,2),R=z[0],T=z[1],G=(0,v.pN)(),H=G.errors,M=G.setError,V=G.clearError,Y=function(e){var n=e.target,r=n.name,t=n.value,s="radio"===n.type?parseInt(t):t;"name"===r&&(s=t.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")),_((function(e){return(0,c.Z)((0,c.Z)({},e),{},(0,o.Z)({},r,s))}))},J=function(){T(!0)},K=function(){var e;null!=(null===F||void 0===F||null===(e=F.state)||void 0===e?void 0:e.id)?W():Q()},Q=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(L,"quoteTypes/store");case 3:e.sent.success?q("El form se cre\xf3 exitosamente.","listarForms"):B("Error al crear el form."),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error en createForm:",e.t0),B("Error al crear el form.");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("\xbfEst\xe1s seguro que deseas editar este servicio?");case 3:if(!e.sent.isConfirmed){e.next=8;break}return L.id,n=(0,t.Z)(L,k),r=(0,c.Z)((0,c.Z)({},n),{},{id:L.id}),e.abrupt("return",console.log(r));case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error en editForm:",e.t0),B("Error al editar el form.");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return(0,h.useEffect)((function(){D&&_(D)}),[D]),console.log(H),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(b.cI,{items:["INICIO","PAISES",null!==F&&void 0!==F&&null!==(e=F.state)&&void 0!==e&&e.id?"Editar ciudad":"Agregar ciudad"],baseURL:["inicio","nexos/listarciudades",null!==F&&void 0!==F&&null!==(n=F.state)&&void 0!==n&&n.id?"editarciudad/"+(null===F||void 0===F||null===(r=F.state)||void 0===r?void 0:r.id):"crearciudad"]}),(0,C.jsx)(b.r3,{title:null!==F&&void 0!==F&&null!==(y=F.state)&&void 0!==y&&y.id?"Editar ciudad":"Agregar ciudad"}),(0,C.jsx)(i.Z,{className:"form-horizontal",onSubmit:function(e){e.preventDefault(),K()},children:(0,C.jsx)(u.Z,{className:"w-100",children:(0,C.jsx)(u.Z.Body,{className:"w-100",children:(0,C.jsxs)(d.Z,{sm:12,md:12,lg:6,xl:6,className:"mx-auto",children:[(0,C.jsx)(m.Z,{className:"justify-content-center mt-5 mb-3",children:(0,C.jsx)(d.Z,{sm:12,md:12,lg:12,xl:12,children:(0,C.jsxs)(p.Z,{className:"form-group w-100 m-0",children:[(0,C.jsx)(i.Z.Label,{className:"mb-3",children:"NOMBRE CIUDAD"}),(0,C.jsx)(j.Z,{id:"country-autocomplete",options:E.h,size:"small",getOptionLabel:function(e){return e.name_es},value:E.h.find((function(e){return e.name_es===L.name}))||null,onChange:function(e,n){n&&_((function(e){return(0,c.Z)((0,c.Z)({},e),{},{name:n.name_es})}))},onClose:function(){L.name?V("name"):M("name",["El campo nombre es obligatorio"])},onBlur:J,renderInput:function(e){return(0,C.jsx)(b.fm,{message:""===L.name?["El campo nombre es obligatorio"]:[],inputFocus:R,children:(0,C.jsx)(g.Z,(0,c.Z)((0,c.Z)({},e),{},{label:"Seleccione una ciudad",variant:"outlined",className:"orange-outline",onFocus:J,required:!0,InputLabelProps:{sx:(0,o.Z)({},"&.".concat(N.Z.shrink),{color:R?"#ff7c23":""})},InputProps:(0,c.Z)((0,c.Z)({},e.InputProps),{},{classes:{notchedOutline:"custom-notched-outline ".concat(R?"orange-outline":"")}})}))})}})]})})}),(0,C.jsx)(m.Z,{className:"mb-2",children:(0,C.jsx)(d.Z,{xs:12,sm:12,md:12,lg:12,xl:12,children:(0,C.jsxs)(p.Z,{className:"form-group text-center",children:[(0,C.jsx)(i.Z.Label,{className:"form-label",children:"Estado"}),(0,C.jsxs)("div",{className:"custom-controls-stacked d-flex justify-content-center gap-5",children:[(0,C.jsxs)(i.Z.Label,{className:"custom-control custom-radio",children:[(0,C.jsx)(i.Z.Control,{type:"radio",className:"custom-control-input",name:"status_id",value:1,checked:1===(null===L||void 0===L?void 0:L.status_id),onChange:Y}),(0,C.jsx)("span",{className:"custom-control-label",children:"Activo"})]}),(0,C.jsxs)(i.Z.Label,{className:"custom-control custom-radio",children:[(0,C.jsx)(i.Z.Control,{type:"radio",className:"custom-control-input",name:"status_id",value:0,checked:0===(null===L||void 0===L?void 0:L.status_id),onChange:Y}),(0,C.jsx)("span",{className:"custom-control-label",children:"Inactivo"})]})]})]})})}),(0,C.jsx)(m.Z,{className:"mb-4",children:(0,C.jsx)(d.Z,{xs:12,sm:12,md:12,lg:12,xl:12,children:(0,C.jsx)(f.Z,{variant:"",className:"btn btn-primary",style:{width:"100%"},type:"submit",children:D?"Guardar cambios":"Editar cambios"})})})]})})})})]})}}}]);
//# sourceMappingURL=9646.cb61e24a.chunk.js.map